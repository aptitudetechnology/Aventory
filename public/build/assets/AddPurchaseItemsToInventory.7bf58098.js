import{J as V}from"./Button.9edbaae6.js";import{J as S}from"./DialogModal.15f17e82.js";import{J as L}from"./Input.3e59ac9d.js";import{J as T}from"./InputError.871a3d35.js";import{J as j}from"./Label.98bc58ad.js";import{J as D}from"./SecondaryButton.d03b45d1.js";import{B as E}from"./BackButton.ce469cae.js";import{S as A}from"./SelectBox.4394748c.js";import{R as O,r as i,o as c,t as y,b as r,w as n,a as o,F as k,D as I,c as B,u,d as l,x as m,v as N,y as z,I as U}from"./app.c6d51eb6.js";import{_ as q}from"./plugin-vue_export-helper.21dcd24c.js";import{R as F,a as K,b as M,c as P}from"./radio-group.esm.f315fd9d.js";import"./Modal.a8ddeb0e.js";import"./SectionTitle.6e9e4bb1.js";import"./ChevronLeftIcon.644abc42.js";import"./dom.esm.fa0fef86.js";import"./calculate-active-index.esm.611fafbc.js";import"./use-resolve-button-type.esm.4623ef0e.js";import"./use-tree-walker.esm.683d9237.js";import"./description.esm.62a21e39.js";import"./label.esm.45c99648.js";const H=[{name:"Individual",value:"individual",description:"Store these items individually in inventory. Each item will have a unique tag id, and a unique place in the nursery."},{name:"Group",value:"group",description:"Store items in a group. Items will be sized and given a block location as a whole. Each item will have an matching id tag."}],W={components:{RadioGroup:F,RadioGroupDescription:K,RadioGroupLabel:M,RadioGroupOption:P,JetButton:V,JetDialogModal:S,JetInput:L,JetInputError:T,JetLabel:j,JetSecondaryButton:D,SelectBox:A,BackButton:E},props:{selectedItems:Array},data(){return{blocks:[],nurseries:this.$page.props.nurseryLocations,selectedBlock:null,selectedNursery:null,addingInventory:!1,types:H,selectedType:null,form:this.$inertia.form({_method:"POST",type:null,block_id:null,nursery_location_id:null,selectedItems:this.selectedItems})}},watch:{selectedType(d){this.form.type=d.value},selectedBlock(d){d?this.form.block_id=d.id:this.form.block_id=null},selectedNursery(d){d?(this.form.nursery_location_id=d.id,this.blocks=this.$page.props.blocks.filter(s=>s.nursery_location_id===d.id)):this.form.nursery_location_id=null}},methods:{addInventory(){this.form.post(route("inventory.store"),{preserveState:!0,onSuccess:()=>{O.Inertia.reload()}})}}},Y=l("Add Selected to Inventory"),Q=l("Add these items to inventory."),X=l(" Once you add these items to inventory, you can print their tags. You won't be able to make changes to these items once added to inventory unless you remove them from inventory. "),Z={class:"col-span-6 grid gap-6 divide-gray-100 divide-y"},$=o("h2",{class:"text-lg leading-6 font-medium text-gray-900"}," Inventory Type ",-1),ee=o("p",{class:"mt-1 text-sm text-gray-500"}," Choose how these items will be stored in inventory. Within a group, or individually. ",-1),te=l(" Type of inventory "),oe={class:"bg-white rounded-md -space-y-px"},se=o("span",{class:"rounded-full bg-white w-1.5 h-1.5"},null,-1),ne=[se],re={class:"ml-3 flex flex-col"},le={key:0,class:"pt-6"},ie=o("h2",{class:"text-lg leading-6 font-medium text-gray-900"}," Nursery Location ",-1),de=o("p",{class:"mt-1 text-sm text-gray-500"}," Select which nursery these plants will be located in. ",-1),ae=l(" Nursery Location "),ue={class:"bg-white rounded-md -space-y-px"},ce=o("span",{class:"rounded-full bg-white w-1.5 h-1.5"},null,-1),me=[ce],pe={class:"ml-3 flex flex-col"},_e={key:1,class:"py-4"},ye=l("Change Nursery"),fe={class:"text-lg leading-6 font-medium text-gray-900"},ge=o("p",{class:"mt-1 text-sm text-gray-500"}," Here you can add a block location for these items. This will give group inventory their location, and individual inventory a block location until they are given a place. ",-1),he={class:"flex justify-between w-full"},ve=l("Cancel"),be=l("Add items to Inventory");function xe(d,s,we,ke,t,p){const h=i("jet-button"),f=i("RadioGroupLabel"),v=i("JetInputError"),b=i("RadioGroupDescription"),x=i("RadioGroupOption"),w=i("RadioGroup"),J=i("back-button"),R=i("select-box"),C=i("jet-secondary-button"),G=i("jet-dialog-modal");return c(),y("div",null,[r(h,{onClick:s[0]||(s[0]=e=>t.addingInventory=!0)},{default:n(()=>[Y]),_:1}),r(G,{show:t.addingInventory,onClose:s[8]||(s[8]=e=>t.addingInventory=!1)},{title:n(()=>[Q]),description:n(()=>[X]),content:n(()=>[o("form",{onSubmit:s[5]||(s[5]=z((...e)=>p.addInventory&&p.addInventory(...e),["prevent"])),onKeydown:s[6]||(s[6]=U((...e)=>p.addInventory&&p.addInventory(...e),["enter"]))},[o("div",Z,[o("div",null,[$,ee,r(w,{modelValue:t.selectedType,"onUpdate:modelValue":s[1]||(s[1]=e=>t.selectedType=e),class:"mt-4"},{default:n(()=>[r(f,{class:"sr-only"},{default:n(()=>[te]),_:1}),r(v,{message:t.form.errors.type},null,8,["message"]),o("div",oe,[(c(!0),y(k,null,I(t.types,(e,_)=>(c(),B(x,{as:"template",key:e.name,value:e},{default:n(({checked:a,active:g})=>[o("div",{class:u([_===0?"rounded-tl-md rounded-tr-md":"",_===t.types.length-1?"rounded-bl-md rounded-br-md":"",a?"bg-green-50 border-green-200 z-10":"border-gray-200","relative border p-4 flex cursor-pointer focus:outline-none"])},[o("span",{class:u([a?"bg-green-600 border-transparent":"bg-white border-gray-300",g?"ring-2 ring-offset-2 ring-green-500":"","h-4 w-4 mt-0.5 cursor-pointer rounded-full border flex items-center justify-center flex-shrink-0"]),"aria-hidden":"true"},ne,2),o("div",re,[r(f,{as:"span",class:u([a?"text-green-900":"text-gray-900","block text-sm font-medium"])},{default:n(()=>[l(m(e.name),1)]),_:2},1032,["class"]),r(b,{as:"span",class:u([a?"text-green-700":"text-gray-500","block text-sm"])},{default:n(()=>[l(m(e.description),1)]),_:2},1032,["class"])])],2)]),_:2},1032,["value"]))),128))])]),_:1},8,["modelValue"])]),t.selectedNursery?N("",!0):(c(),y("div",le,[ie,de,r(w,{modelValue:t.selectedNursery,"onUpdate:modelValue":s[2]||(s[2]=e=>t.selectedNursery=e),class:"mt-4"},{default:n(()=>[r(f,{class:"sr-only"},{default:n(()=>[ae]),_:1}),r(v,{message:t.form.errors.nursery_location_id},null,8,["message"]),o("div",ue,[(c(!0),y(k,null,I(t.nurseries,(e,_)=>(c(),B(x,{as:"template",key:e.id,value:e},{default:n(({checked:a,active:g})=>[o("div",{class:u([_===0?"rounded-tl-md rounded-tr-md":"",_===t.nurseries.length-1?"rounded-bl-md rounded-br-md":"",a?"bg-green-50 border-green-200 z-10":"border-gray-200","relative border p-4 flex cursor-pointer focus:outline-none"])},[o("span",{class:u([a?"bg-green-600 border-transparent":"bg-white border-gray-300",g?"ring-2 ring-offset-2 ring-green-500":"","h-4 w-4 mt-0.5 cursor-pointer rounded-full border flex items-center justify-center flex-shrink-0"]),"aria-hidden":"true"},me,2),o("div",pe,[r(f,{as:"span",class:u([a?"text-green-900":"text-gray-900","block text-sm font-medium"])},{default:n(()=>[l(m(e.name),1)]),_:2},1032,["class"]),r(b,{as:"span",class:u([a?"text-green-700":"text-gray-500","block text-sm"])},{default:n(()=>[l(m(e.city)+m(", "+e.state),1)]),_:2},1032,["class"])])],2)]),_:2},1032,["value"]))),128))])]),_:1},8,["modelValue"])])),t.selectedNursery?(c(),y("div",_e,[r(J,{onClick:s[3]||(s[3]=e=>t.selectedNursery=null),class:"mb-4"},{default:n(()=>[ye]),_:1}),o("h2",fe,m(t.selectedNursery.name)+": Block Location ",1),ge,r(R,{items:t.blocks,showLabel:!1,modelValue:t.selectedBlock,"onUpdate:modelValue":s[4]||(s[4]=e=>t.selectedBlock=e),class:"mt-4"},null,8,["items","modelValue"])])):N("",!0)])],32)]),footer:n(()=>[o("div",he,[r(C,{type:"button",onClick:s[7]||(s[7]=e=>t.addingInventory=!1)},{default:n(()=>[ve]),_:1}),o("div",null,[r(h,{type:"submit",onClick:p.addInventory,class:u({"opacity-25":t.form.processing}),disabled:t.form.processing},{default:n(()=>[be]),_:1},8,["onClick","class","disabled"])])])]),_:1},8,["show"])])}var Ke=q(W,[["render",xe]]);export{Ke as default};
