import p from"./DiscountItem.7d77e232.js";import _ from"./DiscountCreate.b67ec604.js";import{L as g}from"./LoadingState.36d08ac8.js";import{_ as h}from"./plugin-vue_export-helper.21dcd24c.js";import{r as e,o,t as r,b as i,w as c,a as f,F as x,D,v,c as y,d as k}from"./app.c6d51eb6.js";import"./LineItem.d4ad7e1b.js";import"./DiscountEdit.a38ccde7.js";import"./DialogModal.15f17e82.js";import"./Modal.a8ddeb0e.js";import"./SectionTitle.6e9e4bb1.js";import"./DiscountDelete.a5f99658.js";import"./ConfirmationModal.08e30afa.js";import"./DangerButton.21c54749.js";import"./DeleteButton.6676eeed.js";import"./TrashIcon.080e1fe7.js";import"./PlusIcon.1e874ef7.js";const N={name:"Discounts",components:{DiscountItem:p,CreateOrderDiscount:_,LoadingState:g},props:{order:{type:Object,required:!0}},data(){return{discounts:[],loading:!0}},mounted(){this.getDiscounts()},watch:{order:{handler(){this.$nextTick(()=>{this.getDiscounts()})},deep:!0}},methods:{getDiscounts(){axios.get(route("sales.discounts.index",{sale:this.order.id})).then(t=>{this.discounts=t.data}).catch(t=>{console.error(t.response.data.message)}).finally(()=>{this.loading=!1})}}},j=k("Discounts"),B={class:"divide-gray-50 divide-y"},C={key:0,class:"text-center text-gray-500 p-4"};function V(t,w,a,L,s,b){const d=e("create-order-discount"),l=e("jet-section-title"),u=e("loading-state"),m=e("discount-item");return o(),r("div",null,[i(l,null,{title:c(()=>[j]),aside:c(()=>[i(d,{class:"ml-auto flex justify-end",order:a.order},null,8,["order"])]),_:1}),f("div",B,[i(u,{loading:s.loading},null,8,["loading"]),(o(!0),r(x,null,D(s.discounts,n=>(o(),y(m,{key:n.id,discount:n},null,8,["discount"]))),128)),s.discounts.length?v("",!0):(o(),r("div",C," No discounts applied. "))])])}var Q=h(N,[["render",V]]);export{Q as default};
