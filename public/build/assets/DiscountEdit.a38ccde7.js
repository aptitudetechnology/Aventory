import{J as V}from"./DialogModal.15f17e82.js";import j from"./DiscountDelete.a5f99658.js";import{r as n,o as x,t as k,b as t,w as i,a as c,y as C,I as S,A as l,B as p,u as B,d}from"./app.c6d51eb6.js";import{_ as P}from"./plugin-vue_export-helper.21dcd24c.js";import"./Modal.a8ddeb0e.js";import"./SectionTitle.6e9e4bb1.js";import"./ConfirmationModal.08e30afa.js";import"./DangerButton.21c54749.js";import"./DeleteButton.6676eeed.js";import"./TrashIcon.080e1fe7.js";const U={props:{discount:Object,show:Boolean},components:{JetDialogModal:V,DiscountDelete:j},data(){return{editingDiscount:this.show,updatedDiscount:this.$inertia.form({_method:"POST",description:this.discount.description,discount_percentage:this.discount.discount_percentage,discount_amount:this.discount.discount_amount,is_percentage:!!this.discount.discount_percentage})}},watch:{show(){this.editingDiscount=this.show},"updatedDiscount.is_percentage":function(_){_?this.updatedDiscount.discount_amount=null:this.updatedDiscount.discount_percentage=null}},methods:{createDiscount(){this.updatedDiscount.patch(route("sales.discounts.update",[this.discount.order_id,this.discount]),{preserveScroll:!0,preserveState:!0,onSuccess:()=>{this.close()}})},close(){this.$emit("close"),this.editingDiscount=!1}}},E=d("Edit Discount"),M={class:"grid grid-cols-6 gap-4"},N={class:"grid md:col-span-3"},A=d("Description"),I={class:"grid md:col-span-2"},J=d("Percentage Discount?"),K=d("Percentage"),O={class:"grid"},T=d("Percentage %"),q={class:"grid"},z=d("Discount Amount"),W={class:"space-y-4 sm:space-y-0 sm:flex sm:justify-between items-center w-full"},F=d("Cancel"),G={class:"sm:flex items-center space-y-4 sm:space-y-0"},H=d("Save Discount");function L(_,s,m,Q,e,u){const r=n("jet-label"),g=n("text-area-input"),a=n("jet-input-error"),h=n("jet-checkbox"),D=n("percentage-input"),f=n("money-input"),b=n("jet-secondary-button"),y=n("discount-delete"),v=n("jet-button"),w=n("jet-dialog-modal");return x(),k("div",null,[t(w,{maxWidth:"3xl",show:e.editingDiscount,onClose:u.close},{title:i(()=>[E]),content:i(()=>[c("div",M,[c("form",{onSubmit:s[4]||(s[4]=C((...o)=>u.createDiscount&&u.createDiscount(...o),["prevent"])),onKeydown:s[5]||(s[5]=S((...o)=>u.createDiscount&&u.createDiscount(...o),["enter"])),class:"col-span-6 grid gap-4 md:grid-cols-5 items-start"},[c("div",N,[t(r,{for:"description"},{default:i(()=>[A]),_:1}),t(g,{required:"",modelValue:e.updatedDiscount.description,"onUpdate:modelValue":s[0]||(s[0]=o=>e.updatedDiscount.description=o),id:"description"},null,8,["modelValue"]),t(a,{message:e.updatedDiscount.errors.description},null,8,["message"])]),c("div",I,[t(r,null,{default:i(()=>[J,t(h,{modelValue:e.updatedDiscount.is_percentage,"onUpdate:modelValue":s[1]||(s[1]=o=>e.updatedDiscount.is_percentage=o),checked:e.updatedDiscount.is_percentage,class:"ml-2"},{default:i(()=>[K]),_:1},8,["modelValue","checked"])]),_:1}),l(c("div",O,[t(r,{for:"percentage"},{default:i(()=>[T]),_:1}),t(D,{id:"percentage",modelValue:e.updatedDiscount.discount_percentage,"onUpdate:modelValue":s[2]||(s[2]=o=>e.updatedDiscount.discount_percentage=o)},null,8,["modelValue"]),l(t(a,{message:"Make sure to update the discount description if you change this."},null,512),[[p,e.updatedDiscount.isDirty&&e.updatedDiscount.is_percentage]]),t(a,{message:e.updatedDiscount.errors.discount_percentage},null,8,["message"])],512),[[p,e.updatedDiscount.is_percentage]]),l(c("div",q,[t(r,{for:"amount"},{default:i(()=>[z]),_:1}),t(f,{id:"amount",modelValue:e.updatedDiscount.discount_amount,"onUpdate:modelValue":s[3]||(s[3]=o=>e.updatedDiscount.discount_amount=o)},null,8,["modelValue"])],512),[[p,!e.updatedDiscount.is_percentage]])])],32)])]),footer:i(()=>[c("div",W,[t(b,{type:"button",onClick:u.close},{default:i(()=>[F]),_:1},8,["onClick"]),c("div",G,[t(y,{class:"sm:mr-2 block",discount:m.discount},null,8,["discount"]),t(v,{type:"submit",onClick:u.createDiscount,class:B({"opacity-25":e.updatedDiscount.processing}),disabled:e.updatedDiscount.processing},{default:i(()=>[H]),_:1},8,["onClick","class","disabled"])])])]),_:1},8,["show","onClose"])])}var ie=P(U,[["render",L]]);export{ie as default};
