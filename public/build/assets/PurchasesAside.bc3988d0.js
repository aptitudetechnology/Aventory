import{B as L}from"./ButtonLink.8dca3e04.js";import{T as v,a as S}from"./TabLink.8aaa87cf.js";import{S as N}from"./SearchInput.e0ea6baa.js";import{P as V,A as x}from"./AsideLink.2ef7bd17.js";import{E as C}from"./EmptyState.63a0d90b.js";import{_ as B,a7 as T,r as o,o as c,c as _,w as r,b as p,ab as A,d as i,N as u,M as m,a as s,J as f,X as D,W as E}from"./app.9dc34ef4.js";const I={components:{PageAside:V,AsideLink:x,ButtonLink:L,TabContainer:v,TabLink:S,SearchInput:N,EmptyState:C,JetSectionTitle:T},props:{purchases:Array},computed:{purchasesLength:function(){return this.purchases.length}},data(){return{search:"",filteredPurchases:this.purchases}},methods:{updatePurchases(){this.filteredPurchases=this.purchases.filter(e=>{var d,h;let a=this.search.toLowerCase();return!!(e.vendor_name.toLowerCase().includes(a)||((d=e.date)==null?void 0:d.includes(a))||((h=e.order_number)==null?void 0:h.toLowerCase().includes(a)))})}}},M=i("Purchases"),j=i("New Purchase"),J={class:"bg-white"},O={class:"divide-y divide-gray-200"},F={class:"flex-1 min-w-0"},G={class:"focus:outline-none"},U=s("span",{class:"absolute inset-0","aria-hidden":"true"},null,-1),W={class:"text-sm text-gray-900"},X=s("b",{class:"font-bold"},"Vendor: ",-1),q={key:0,class:"text-sm text-gray-900 truncate"},z=s("b",{class:"font-bold"},"Purchase Number: ",-1),H={class:"text-sm text-gray-900 truncate"},K=s("b",{class:"font-bold"},"Purchase Date: ",-1);function Q(e,a,d,h,l,n){const b=o("button-link"),g=o("jet-section-title"),w=o("search-input"),y=o("aside-link"),P=o("empty-state"),k=o("page-aside");return c(),_(k,{showOnMobile:e.route().current("purchases.index")},{header:r(()=>[p(g,null,A({title:r(()=>[M]),aside:r(()=>[p(b,{href:e.route("purchases.create")},{default:r(()=>[j]),_:1},8,["href"])]),_:2},[n.purchasesLength>0?{name:"description",fn:r(()=>[i("Search "+u(n.purchasesLength)+" "+u(n.purchasesLength>1?"Purchases":"Purchase"),1)])}:void 0]),1024),n.purchasesLength>0?(c(),_(w,{key:0,modelValue:l.search,"onUpdate:modelValue":a[0]||(a[0]=t=>l.search=t),onInput:n.updatePurchases,placeholder:"Search by purchase number, vendor, or date."},null,8,["modelValue","onInput"])):m("",!0)]),default:r(()=>[s("div",J,[s("ul",O,[(c(!0),f(E,null,D(l.filteredPurchases,t=>(c(),f("li",{key:t.id,class:"bg-white"},[p(y,{href:t.deleted_at?e.route("archived-purchases.show",t.id):e.route("purchases.show",t.id),current:e.route().current("purchases.show",t.id)||e.route().current("archived-purchases.show",t.id)},{default:r(()=>[s("div",F,[s("div",G,[U,s("p",W,[X,i(u(t.vendor.name),1)]),t.purchase_number?(c(),f("p",q,[z,i(u(t.order_number),1)])):m("",!0),s("p",H,[K,i(u(new Date(t.date).toDateString()),1)])])])]),_:2},1032,["href","current"])]))),128))])]),n.purchasesLength<1&&e.route().current("purchases.index")?(c(),_(P,{key:0,heading:"No Purchases",subtitle:"Get started by creating a new purchase.","button-text":"New Purchase",href:e.route("purchases.create")},null,8,["href"])):m("",!0)]),_:1},8,["showOnMobile"])}var se=B(I,[["render",Q]]);export{se as default};
