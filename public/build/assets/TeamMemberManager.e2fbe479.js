import{J as S}from"./ActionMessage.59b94243.js";import{J as L}from"./ActionSection.8b02576e.js";import{_ as A,a0 as P,a1 as z,a2 as V,a4 as I,a5 as N,a6 as D,r as c,o as r,J as a,b as n,w as o,M as u,a as s,W as h,X as f,L as v,N as g,d as l}from"./app.9dc34ef4.js";import{J as E}from"./ConfirmationModal.47b3bac6.js";import{J as O}from"./DialogModal.13bcfa5f.js";import{J as U}from"./FormSection.d0f32ab4.js";import{J as W}from"./SectionBorder.b254cc1e.js";import"./Modal.c8b704a0.js";const X={components:{JetActionMessage:S,JetActionSection:L,JetButton:P,JetConfirmationModal:E,JetDangerButton:z,JetDialogModal:O,JetFormSection:U,JetInput:V,JetInputError:I,JetLabel:N,JetSecondaryButton:D,JetSectionBorder:W},props:["team","availableRoles","userPermissions"],data(){return{addTeamMemberForm:this.$inertia.form({email:"",role:null}),updateRoleForm:this.$inertia.form({role:null}),leaveTeamForm:this.$inertia.form(),removeTeamMemberForm:this.$inertia.form(),currentlyManagingRole:!1,managingRoleFor:null,confirmingLeavingTeam:!1,teamMemberBeingRemoved:null}},methods:{addTeamMember(){this.addTeamMemberForm.post(route("team-members.store",this.team),{errorBag:"addTeamMember",preserveScroll:!0,onSuccess:()=>this.addTeamMemberForm.reset()})},cancelTeamInvitation(_){this.$inertia.delete(route("team-invitations.destroy",_),{preserveScroll:!0})},manageRole(_){this.managingRoleFor=_,this.updateRoleForm.role=_.membership.role,this.currentlyManagingRole=!0},updateRole(){this.updateRoleForm.put(route("team-members.update",[this.team,this.managingRoleFor]),{preserveScroll:!0,onSuccess:()=>this.currentlyManagingRole=!1})},confirmLeavingTeam(){this.confirmingLeavingTeam=!0},leaveTeam(){this.leaveTeamForm.delete(route("team-members.destroy",[this.team,this.$page.props.user]))},confirmTeamMemberRemoval(_){this.teamMemberBeingRemoved=_},removeTeamMember(){this.removeTeamMemberForm.delete(route("team-members.destroy",[this.team,this.teamMemberBeingRemoved]),{errorBag:"removeTeamMember",preserveScroll:!0,preserveState:!0,onSuccess:()=>this.teamMemberBeingRemoved=null})},displayableRole(_){return this.availableRoles.find(i=>i.key===_).name}}},q={key:0},G=l(" Add Team Member "),H=l(" Add a new team member to your account, allowing them to collaborate with you. "),K=s("div",{class:"col-span-6"},[s("div",{class:"max-w-xl text-sm text-gray-600"}," Please provide the email address of the person you would like to add to this account. ")],-1),Q={class:"col-span-6 sm:col-span-4"},Y={key:0,class:"col-span-6 lg:col-span-4"},Z={class:"relative z-0 mt-1 border border-gray-200 rounded-lg cursor-pointer"},$=["onClick"],ee={class:"flex items-center"},te={key:0,class:"ml-2 h-5 w-5 text-green-400",fill:"none","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",stroke:"currentColor",viewBox:"0 0 24 24"},oe=s("path",{d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"},null,-1),se=[oe],ne={class:"mt-2 text-xs text-gray-600"},re=l(" Added. "),ae=l(" Add "),le={key:1},ie=l(" Pending Team Invitations "),me=l(" These people have been invited to your team and have been sent an invitation email. They may join the team by accepting the email invitation. "),ce={class:"space-y-6"},de={class:"text-gray-600"},ue={class:"flex items-center"},_e=["onClick"],be={key:2},ve=l(" Company Team Members "),ge=l(" All of the people that are part of this team. "),he={class:"space-y-6"},fe={class:"flex items-center"},ye=["src","alt"],pe={class:"ml-4"},ke={class:"flex items-center"},Te=["onClick"],Me={key:1,class:"ml-2 text-sm text-gray-400"},Re=["onClick"],xe=l(" Manage Role "),Fe={key:0},Ce={class:"relative z-0 mt-1 border border-gray-200 rounded-lg cursor-pointer"},je=["onClick"],we={class:"flex items-center"},Je={key:0,class:"ml-2 h-5 w-5 text-green-400",fill:"none","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",stroke:"currentColor",viewBox:"0 0 24 24"},Be=s("path",{d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"},null,-1),Se=[Be],Le={class:"mt-2 text-xs text-gray-600"},Ae=l(" Cancel "),Pe=l(" Save "),ze=l(" Leave Team "),Ve=l(" Are you sure you would like to leave this team? "),Ie=l(" Cancel "),Ne=l(" Leave "),De=l(" Remove Company Team Member "),Ee=l(" Are you sure you would like to remove this person from the team? "),Oe=l(" Cancel "),Ue=l(" Remove ");function We(_,i,m,Xe,t,d){const y=c("jet-section-border"),k=c("jet-label"),C=c("jet-input"),T=c("jet-input-error"),j=c("jet-action-message"),M=c("jet-button"),w=c("jet-form-section"),R=c("jet-action-section"),p=c("jet-secondary-button"),J=c("jet-dialog-modal"),x=c("jet-danger-button"),F=c("jet-confirmation-modal");return r(),a("div",null,[m.userPermissions.canAddTeamMembers?(r(),a("div",q,[n(y),n(w,{onSubmitted:d.addTeamMember},{title:o(()=>[G]),description:o(()=>[H]),form:o(()=>[K,s("div",Q,[n(k,{for:"email",value:"Email"}),n(C,{id:"email",type:"email",class:"mt-1 block w-full",modelValue:t.addTeamMemberForm.email,"onUpdate:modelValue":i[0]||(i[0]=e=>t.addTeamMemberForm.email=e)},null,8,["modelValue"]),n(T,{message:t.addTeamMemberForm.errors.email,class:"mt-2"},null,8,["message"])]),m.availableRoles.length>0?(r(),a("div",Y,[n(k,{for:"roles",value:"Role"}),n(T,{message:t.addTeamMemberForm.errors.role,class:"mt-2"},null,8,["message"]),s("div",Z,[(r(!0),a(h,null,f(m.availableRoles,(e,b)=>(r(),a("button",{type:"button",class:v(["relative px-4 py-3 inline-flex w-full rounded-lg focus:z-10 focus:outline-none focus:border-blue-300 focus:ring focus:ring-blue-200",{"border-t border-gray-200 rounded-t-none":b>0,"rounded-b-none":b!=Object.keys(m.availableRoles).length-1}]),onClick:B=>t.addTeamMemberForm.role=e.key,key:e.key},[s("div",{class:v({"opacity-50":t.addTeamMemberForm.role&&t.addTeamMemberForm.role!=e.key})},[s("div",ee,[s("div",{class:v(["text-sm text-gray-600",{"font-semibold":t.addTeamMemberForm.role==e.key}])},g(e.name),3),t.addTeamMemberForm.role==e.key?(r(),a("svg",te,se)):u("",!0)]),s("div",ne,g(e.description),1)],2)],10,$))),128))])])):u("",!0)]),actions:o(()=>[n(j,{on:t.addTeamMemberForm.recentlySuccessful,class:"mr-3"},{default:o(()=>[re]),_:1},8,["on"]),n(M,{class:v({"opacity-25":t.addTeamMemberForm.processing}),disabled:t.addTeamMemberForm.processing},{default:o(()=>[ae]),_:1},8,["class","disabled"])]),_:1},8,["onSubmitted"])])):u("",!0),m.team.team_invitations.length>0&&m.userPermissions.canAddTeamMembers?(r(),a("div",le,[n(y),n(R,{class:"mt-10 sm:mt-0"},{title:o(()=>[ie]),description:o(()=>[me]),content:o(()=>[s("div",ce,[(r(!0),a(h,null,f(m.team.team_invitations,e=>(r(),a("div",{class:"flex items-center justify-between",key:e.id},[s("div",de,g(e.email),1),s("div",ue,[m.userPermissions.canRemoveTeamMembers?(r(),a("button",{key:0,class:"cursor-pointer ml-6 text-sm text-red-500 focus:outline-none",onClick:b=>d.cancelTeamInvitation(e)}," Cancel ",8,_e)):u("",!0)])]))),128))])]),_:1})])):u("",!0),m.team.users.length>0?(r(),a("div",be,[n(y),n(R,{class:"mt-10 sm:mt-0"},{title:o(()=>[ve]),description:o(()=>[ge]),content:o(()=>[s("div",he,[(r(!0),a(h,null,f(m.team.users,e=>(r(),a("div",{class:"flex items-center justify-between",key:e.id},[s("div",fe,[s("img",{class:"w-8 h-8 rounded-full",src:e.profile_photo_url,alt:e.name},null,8,ye),s("div",pe,g(e.name),1)]),s("div",ke,[m.userPermissions.canAddTeamMembers&&m.availableRoles.length?(r(),a("button",{key:0,class:"ml-2 text-sm text-gray-400 underline",onClick:b=>d.manageRole(e)},g(d.displayableRole(e.membership.role)),9,Te)):m.availableRoles.length?(r(),a("div",Me,g(d.displayableRole(e.membership.role)),1)):u("",!0),_.$page.props.user.id===e.id?(r(),a("button",{key:2,class:"cursor-pointer ml-6 text-sm text-red-500",onClick:i[1]||(i[1]=(...b)=>d.confirmLeavingTeam&&d.confirmLeavingTeam(...b))}," Leave ")):u("",!0),m.userPermissions.canRemoveTeamMembers?(r(),a("button",{key:3,class:"cursor-pointer ml-6 text-sm text-red-500",onClick:b=>d.confirmTeamMemberRemoval(e)}," Remove ",8,Re)):u("",!0)])]))),128))])]),_:1})])):u("",!0),n(J,{show:t.currentlyManagingRole,onClose:i[3]||(i[3]=e=>t.currentlyManagingRole=!1)},{title:o(()=>[xe]),content:o(()=>[t.managingRoleFor?(r(),a("div",Fe,[s("div",Ce,[(r(!0),a(h,null,f(m.availableRoles,(e,b)=>(r(),a("button",{type:"button",class:v(["relative px-4 py-3 inline-flex w-full rounded-lg focus:z-10 focus:outline-none focus:border-blue-300 focus:ring focus:ring-blue-200",{"border-t border-gray-200 rounded-t-none":b>0,"rounded-b-none":b!==Object.keys(m.availableRoles).length-1}]),onClick:B=>t.updateRoleForm.role=e.key,key:e.key},[s("div",{class:v({"opacity-50":t.updateRoleForm.role&&t.updateRoleForm.role!==e.key})},[s("div",we,[s("div",{class:v(["text-sm text-gray-600",{"font-semibold":t.updateRoleForm.role===e.key}])},g(e.name),3),t.updateRoleForm.role===e.key?(r(),a("svg",Je,Se)):u("",!0)]),s("div",Le,g(e.description),1)],2)],10,je))),128))])])):u("",!0)]),footer:o(()=>[n(p,{onClick:i[2]||(i[2]=e=>t.currentlyManagingRole=!1)},{default:o(()=>[Ae]),_:1}),n(M,{class:v(["ml-2",{"opacity-25":t.updateRoleForm.processing}]),onClick:d.updateRole,disabled:t.updateRoleForm.processing},{default:o(()=>[Pe]),_:1},8,["onClick","class","disabled"])]),_:1},8,["show"]),n(F,{show:t.confirmingLeavingTeam,onClose:i[5]||(i[5]=e=>t.confirmingLeavingTeam=!1)},{title:o(()=>[ze]),content:o(()=>[Ve]),footer:o(()=>[n(p,{onClick:i[4]||(i[4]=e=>t.confirmingLeavingTeam=!1)},{default:o(()=>[Ie]),_:1}),n(x,{class:v(["ml-2",{"opacity-25":t.leaveTeamForm.processing}]),onClick:d.leaveTeam,disabled:t.leaveTeamForm.processing},{default:o(()=>[Ne]),_:1},8,["onClick","class","disabled"])]),_:1},8,["show"]),n(F,{show:t.teamMemberBeingRemoved,onClose:i[7]||(i[7]=e=>t.teamMemberBeingRemoved=null)},{title:o(()=>[De]),content:o(()=>[Ee]),footer:o(()=>[n(p,{onClick:i[6]||(i[6]=e=>t.teamMemberBeingRemoved=null)},{default:o(()=>[Oe]),_:1}),n(x,{class:v(["ml-2",{"opacity-25":t.removeTeamMemberForm.processing}]),onClick:d.removeTeamMember,disabled:t.removeTeamMemberForm.processing},{default:o(()=>[Ue]),_:1},8,["onClick","class","disabled"])]),_:1},8,["show"])])}var et=A(X,[["render",We]]);export{et as default};
