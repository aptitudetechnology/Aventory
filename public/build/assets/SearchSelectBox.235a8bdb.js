import{r as i,o as a,t as r,c,w as k,d as f,x as d,v as u,a as l,b as p,I as m,y as C,u as h,A as S,B as V,F as _,D as O}from"./app.c6d51eb6.js";import{r as x,a as B}from"./SelectBox.4394748c.js";import{r as K}from"./XCircleIcon.7dffa179.js";import{J as L}from"./Input.3e59ac9d.js";import{J as N}from"./Label.98bc58ad.js";import{_ as j}from"./plugin-vue_export-helper.21dcd24c.js";const z={components:{CheckIcon:x,SelectorIcon:B,XCircleIcon:K,JetInput:L,JetLabel:N},props:{items:Array,selectedItem:Object|Boolean,labelValue:{type:String,default:"Select Option"},showLabel:{type:Boolean,default:!0},nameValue:{type:String,default:"name"}},data:function(){return{search:this.selectedItem?this.selectedItem[this.nameValue]:"",searchItems:this.items,selected:this.selectedItem,isOpen:!1}},methods:{filterItems:function(e){this.searchItems=this.items.filter(t=>t[this.nameValue].toLowerCase().includes(e.toLowerCase()))},updateItem:function(e){e?(this.selected=e,this.isOpen=!1):this.addItem()},addItem(){this.search.length&&(this.$emit("add",this.search),this.isOpen=!1)},clearSearch(){this.search="",this.searchItems=this.items,document.getElementById("items-input").focus()},openIfNotEnter(e){e.keyCode!==13&&(this.isOpen=!0)},isSelected(e){return this.selected&&this.selected.id===e.id}},watch:{selectedItem:function(e){this.selected=e},items:function(e){this.searchItems=e},isOpen(e){e||this.selected&&(this.search=this.selected[this.nameValue])},selectedItem(){this.selected=this.selectedItem},selected(e){e&&(this.$emit("update",e.id),this.search=e[this.nameValue])},search(e){this.filterItems(e)}}},E={class:"form-control"},J={class:"relative z-20"},A={id:"items-list",class:"absolute z-10 mt-1 w-full bg-white shadow-lg max-h-60 rounded-md py-1 text-base ring-1 ring-gray-700 ring-opacity-5 overflow-auto focus:outline-none sm:text-sm group"},D=["onClick","onKeydown","tabindex"],X={key:0,class:"group-focus:text-white text-gray-500 absolute inset-y-0 right-0 flex items-center pr-4"};function F(e,t,o,M,T,n){const y=i("jet-label"),I=i("jet-input"),g=i("XCircleIcon"),w=i("SelectorIcon"),b=i("CheckIcon");return a(),r("div",E,[o.showLabel?(a(),c(y,{key:0,for:"items-input"},{default:k(()=>[f(d(o.labelValue),1)]),_:1})):u("",!0),e.isOpen?(a(),r("div",{key:1,class:"fixed inset-0 z-10",onClick:t[0]||(t[0]=s=>e.isOpen=!1)})):u("",!0),l("div",J,[p(I,{type:"text",autocomplete:"off",onKeydown:[t[1]||(t[1]=m(C(s=>n.updateItem(e.searchItems[0]),["prevent"]),["enter"])),n.openIfNotEnter],onClick:t[2]||(t[2]=s=>e.isOpen=!0),id:"items-input",placeholder:"Select "+o.labelValue,modelValue:e.search,"onUpdate:modelValue":t[3]||(t[3]=s=>e.search=s),class:"w-full"},null,8,["onKeydown","placeholder","modelValue"]),l("span",{class:h(["absolute inset-y-0 right-0 flex items-center pr-2",e.isOpen&&e.search.length?"":"pointer-events-none"])},[e.search.length&&e.isOpen?(a(),c(g,{key:0,onClick:n.clearSearch,class:h(["h-5 w-5",e.isOpen?"text-gray-900":"text-gray-500"])},null,8,["onClick","class"])):(a(),c(w,{key:1,class:"h-5 w-5 text-gray-400","aria-hidden":"true"}))],2),S(l("div",A,[(a(!0),r(_,null,O(e.searchItems,(s,U)=>(a(),r("div",{key:"item.id",onClick:v=>n.updateItem(s),onKeydown:m(v=>n.updateItem(s),["enter"]),tabindex:e.isOpen?"0":"-1",class:h(["group text-gray-900 cursor-default relative py-2 pl-3 pr-9 bg-white active:outline-none focus:outline-none focus:ring-1 focus:ring-gray-500 focus:border-gray-500 focus:bg-gray-500 focus:text-white",[n.isSelected(s)?"font-semibold":"font-normal","block truncate"]])},[f(d(s[o.nameValue])+" ",1),n.isSelected(s)?(a(),r("span",X,[p(b,{class:"h-5 w-5","aria-hidden":"true"})])):u("",!0)],42,D))),128)),l("div",{onClick:t[4]||(t[4]=(...s)=>n.addItem&&n.addItem(...s)),onKeydown:t[5]||(t[5]=m((...s)=>n.addItem&&n.addItem(...s),["enter"])),tabindex:"0",class:"focus:text-white cursor-default relative py-2 pl-3 pr-9 focus:bg-gray-500 active:outline-none focus:outline-none focus:ring-1 focus:ring-gray-500 focus:border-gray-500"},d(`Add ${e.search}?`),33)],512),[[V,e.isOpen]])])])}var W=j(z,[["render",F],["__scopeId","data-v-fb661e32"]]);export{W as S};
