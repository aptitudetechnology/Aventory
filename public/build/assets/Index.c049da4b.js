import{_ as x,a7 as V,a2 as N,a5 as v,a0 as I,a9 as C,r as n,o as u,c as p,w as r,a as i,b as l,M as f,J as R,O as S,d as c}from"./app.fbac1591.js";import{A as L}from"./AppLayout.882645d6.js";import{M as j}from"./MainArea.39d829c5.js";import{I as M}from"./InventoryTabs.1abb70f1.js";import{C as T}from"./Card.2a740daf.js";import"./use-tree-walker.esm.96420529.js";import"./description.esm.86a5930e.js";import"./TabLink.e3fb786d.js";const J={components:{SectionTitle:V,JetInput:N,JetLabel:v,JetButton:I,AppLayout:L,MainArea:j,InventoryTabs:M,Card:T,SelectBox:C},props:["nurseries"],data(){return{selectedNursery:null,blocks:[],selectedBlock:null,places:[],form:this.$inertia.form({starting_row:null,ending_row:null})}},computed:{firstRowInBlock(){return this.places.map(o=>o.row_number).sort((o,e)=>o-e)[0]},lastRowInBlock(){return this.places.map(o=>o.row_number).sort((o,e)=>{if(o<e)return 1;if(o>e)return-1})[0]}},watch:{selectedNursery(){this.getBlocks()},selectedBlock(){this.getPlaces()}},methods:{getBlocks(){this.blocks=[],this.selectedBlock=null,this.places=[],this.starting_row=null,this.ending_row=null,this.selectedNursery&&axios.get(route("api.blocks.index",this.selectedNursery)).then(o=>{this.blocks=o.data})},getPlaces(){this.selectedBlock&&axios.get(route("api.places.index",this.selectedBlock)).then(o=>{this.places=o.data})},clearLocations(){this.form.post(route("clear-locations.clear",this.selectedBlock))}}},U={class:"flex-1 relative z-0 flex overflow-hidden"},A=c("Select a Nursery Location"),E={class:"space-y-4"},O={class:"grid gap-4 grid-cols-2"},P=c("Starting Row to Clear"),z=c("Ending Row to Clear"),q=c("Clear Locations");function D(o,e,w,F,t,a){const k=n("InventoryTabs"),g=n("section-title"),m=n("select-box"),d=n("jet-label"),_=n("jet-input"),b=n("jet-button"),h=n("Card"),B=n("main-area"),y=n("app-layout");return u(),p(y,null,{default:r(()=>[i("div",U,[l(B,{dontShowOnMobile:!1},{default:r(()=>[l(k),l(h,{class:"w-full max-w-screen-sm"},{default:r(()=>[l(g,null,{title:r(()=>[A]),_:1}),i("div",E,[l(m,{labelValue:"Select Nursery",items:w.nurseries,modelValue:t.selectedNursery,"onUpdate:modelValue":e[0]||(e[0]=s=>t.selectedNursery=s)},null,8,["items","modelValue"]),t.selectedNursery?(u(),p(m,{key:0,labelValue:"Select Block",items:t.blocks,modelValue:t.selectedBlock,"onUpdate:modelValue":e[1]||(e[1]=s=>t.selectedBlock=s)},null,8,["items","modelValue"])):f("",!0),t.selectedBlock&&t.selectedNursery?(u(),R("form",{key:1,onSubmit:e[4]||(e[4]=S((...s)=>a.clearLocations&&a.clearLocations(...s),["prevent"]))},[i("div",O,[i("div",null,[l(d,{for:"starting"},{default:r(()=>[P]),_:1}),l(_,{id:"starting",type:"number",class:"w-full",min:a.firstRowInBlock,max:a.lastRowInBlock,modelValue:t.form.starting_row,"onUpdate:modelValue":e[2]||(e[2]=s=>t.form.starting_row=s)},null,8,["min","max","modelValue"])]),i("div",null,[l(d,{for:"ending"},{default:r(()=>[z]),_:1}),l(_,{id:"ending",type:"number",class:"w-full",min:t.form.starting_row?t.form.starting_row:a.firstRowInBlock,max:a.lastRowInBlock,modelValue:t.form.ending_row,"onUpdate:modelValue":e[3]||(e[3]=s=>t.form.ending_row=s)},null,8,["min","max","modelValue"])])]),l(b,{type:"submit",class:"mt-4"},{default:r(()=>[q]),_:1})],32)):f("",!0)])]),_:1})]),_:1})])]),_:1})}var $=x(J,[["render",D]]);export{$ as default};
