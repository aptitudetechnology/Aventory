import{r as S,a as O,P as T}from"./Pagination.93041d99.js";import{r as C}from"./ExternalLinkIcon.da9b6267.js";import{_ as I,Y as V,ao as Q,r as i,o as n,c as d,w as t,P as A,d as a,N as l,b as o,a as h,L as b,J as w,X as N,W as q,M as Y}from"./app.9a96a844.js";import{T as M}from"./TableTable.8f60fbf0.js";import{T as U}from"./TableHead.31d4a73d.js";import{T as L}from"./TableH.566f7ac6.js";import{T as P}from"./TableD.28767d14.js";import{S as j}from"./SearchInput.954adf21.js";import{_ as E}from"./debounce.b869029f.js";const H={components:{ExternalLinkIcon:C,ArrowDownIcon:S,ArrowUpIcon:O,DetailsSection:V,TableTable:M,TableHead:U,TableH:L,TableD:P,SearchInput:j,Pagination:T},props:{orders:{type:Object},areQuotes:{type:Boolean,default:!1},filters:{type:Object}},data(){return{search:this.filters.search||"",orderBy:this.filters.orderBy||"",orderByDirection:this.filters.orderByDirection||""}},watch:{search:E(function(s){this.updateSearch()},200)},methods:{formatDate:s=>Q(s).format("MM/DD/YYYY"),updateOrderBy(s){this.orderBy===s?this.orderByDirection=this.orderByDirection==="desc"?"asc":"desc":(this.orderBy=s,this.orderByDirection="desc"),this.updateSearch()},updateSearch(){this.areQuotes?this.$inertia.get(this.route("quotes.index"),{search:this.search,orderBy:this.orderBy,orderByDirection:this.orderByDirection},{preserveState:!0,replace:!0}):this.$inertia.get(this.route("orders.index"),{search:this.search,orderBy:this.orderBy,orderByDirection:this.orderByDirection},{preserveState:!0,replace:!0})},showOrder(s){s.is_quote?this.$inertia.get(route("quotes.show",s)):this.$inertia.get(route("orders.show",s))}}},z={class:"col-span-6 overflow-auto"},F=a(" Date "),J=a(" Customer "),R=a("Status"),W=a("Total"),X=["onClick"],G={key:0,class:"p-4"},K={class:"text-gray-500"};function Z(s,c,u,$,e,m){const D=i("search-input"),f=i("ArrowUpIcon"),p=i("ArrowDownIcon"),_=i("table-h"),k=i("table-head"),y=i("table-d"),v=i("table-table"),g=i("pagination"),x=i("details-section");return n(),d(x,null,{title:t(()=>[A(s.$slots,"title",{},()=>[a("Recent "+l(u.areQuotes?"Quotes":"Orders")+" "+l(e.search?"for "+e.search:""),1)])]),aside:t(()=>[o(D,{modelValue:e.search,"onUpdate:modelValue":c[0]||(c[0]=r=>e.search=r)},null,8,["modelValue"])]),default:t(()=>[h("div",z,[o(v,{class:"text-left"},{default:t(()=>[o(k,null,{default:t(()=>[o(_,null,{default:t(()=>[h("div",{class:b(["select-none cursor-pointer flex items-center",e.orderBy=="id"?"text-gray-900":""]),onClick:c[1]||(c[1]=r=>m.updateOrderBy("id"))},[a(l(u.areQuotes?"Quote #":"Order #")+" ",1),e.orderBy=="id"&&e.orderByDirection=="asc"?(n(),d(f,{key:0,class:"ml-2 w-3 h-3"})):(n(),d(p,{key:1,class:"ml-2 w-3 h-3"}))],2)]),_:1}),o(_,null,{default:t(()=>[h("div",{class:b(["select-none cursor-pointer flex items-center",e.orderBy=="date"?"text-gray-900":""]),onClick:c[2]||(c[2]=r=>m.updateOrderBy("date"))},[F,e.orderBy=="date"&&e.orderByDirection=="asc"?(n(),d(f,{key:0,class:"ml-2 w-3 h-3"})):(n(),d(p,{key:1,class:"ml-2 w-3 h-3"}))],2)]),_:1}),o(_,null,{default:t(()=>[h("div",{class:b(["select-none cursor-pointer flex items-center",e.orderBy=="customer"?"text-gray-900":""]),onClick:c[3]||(c[3]=r=>m.updateOrderBy("customer"))},[J,e.orderBy=="customer"&&e.orderByDirection=="asc"?(n(),d(f,{key:0,class:"ml-2 w-3 h-3"})):(n(),d(p,{key:1,class:"ml-2 w-3 h-3"}))],2)]),_:1}),o(_,null,{default:t(()=>[R]),_:1}),o(_,null,{default:t(()=>[W]),_:1})]),_:1}),h("tbody",null,[(n(!0),w(q,null,N(u.orders.data,r=>(n(),w("tr",{key:r.id,tabindex:"0",class:"px-2 border-b border-gray-50 last:border-transparent hover:border-black focus:border-black transition cursor-pointer",onClick:B=>m.showOrder(r)},[o(y,null,{default:t(()=>[a(l(r.id),1)]),_:2},1024),o(y,null,{default:t(()=>[a(l(m.formatDate(r.date)),1)]),_:2},1024),o(y,null,{default:t(()=>[a(l(r.customer.name),1)]),_:2},1024),o(y,null,{default:t(()=>{var B;return[a(l(r.is_quote?r.status:(B=r.deliveryStatus)==null?void 0:B.name),1)]}),_:2},1024),o(y,null,{default:t(()=>[a(l(s.formatMoney(r.grand_total)),1)]),_:2},1024)],8,X))),128))])]),_:1}),u.orders.data.length<1?(n(),w("div",G,[h("div",K," No "+l(u.areQuotes?"quotes":"orders")+" found"+l(e.search?" for "+e.search:"")+". ",1)])):Y("",!0),o(g,{items:u.orders},null,8,["items"])])]),_:3})}var ce=I(H,[["render",Z]]);export{ce as default};
