import{r as D,a as w,P as x}from"./Pagination.f011749b.js";import{r as L}from"./ExternalLinkIcon.546b97a3.js";import{_ as T,Y as N,r as s,o as r,c as m,w as t,P,b as l,a as h,J as f,X as V,W as j,M as y,d as n}from"./app.fa9cc1ae.js";import{T as A}from"./TableTable.a7879398.js";import{T as C}from"./TableHead.490f4fcf.js";import{T as E}from"./TableH.23b83e36.js";import{S as H}from"./SearchInput.afb6d862.js";import{_ as O}from"./debounce.6aba544a.js";import U from"./InventoryLineItem.f04f183f.js";import{B as z}from"./ButtonLink.6e91a4bc.js";import"./TableD.6c0887c5.js";const F={components:{ExternalLinkIcon:L,ArrowDownIcon:D,ArrowUpIcon:w,DetailsSection:N,TableTable:A,TableHead:C,TableH:E,SearchInput:H,Pagination:x,InventoryLineItem:U,ButtonLink:z},props:{inventory:{type:Object},filters:{type:Object}},data(){var e;return{allSelected:!1,selected:[],search:this.filters.search||"",orderBy:this.filters.orderBy||"",orderByDirection:(e=this.filters.orderByDirection)!=null?e:"desc"}},computed:{selectedItems(){return this.inventory.data.filter(e=>this.selected.includes(e.id))}},watch:{selected:{handler(){this.allSelected=this.selected.length===this.inventory.data.length},deep:!0},search:O(function(e){this.updateSearch()},500)},methods:{toggleAllSelected(){this.allSelected=!this.allSelected,this.selected=this.allSelected?this.inventory.data.map(e=>e.id):[]},toggleSelected(e){this.selected.includes(e.id)?this.selected=this.selected.filter(i=>i!==e.id):this.selected.push(e.id)},isItemSelected(e){return this.selected.includes(e.id)},updateItemBy(e){this.orderBy===e?this.orderByDirection=this.orderByDirection==="desc"?"asc":"desc":(this.orderBy=e,this.orderByDirection="desc"),this.updateSearch()},updateSearch(){this.$inertia.get(this.route("inventory.index"),{search:this.search,orderBy:this.orderBy,orderByDirection:this.orderByDirection,includePrinted:this.filters.includePrinted},{preserveState:!0,replace:!0})},showItem(e){this.$inertia.get(route("inventory.show",e))}}},J=n("All Inventory"),M={class:"col-span-6 overflow-auto"},Q=n("Select all"),W=n("Inventory ID"),X=n("Quantity"),Y=n("Date Added"),q=n("Last Inventoried"),G=n("Product Name"),K=n("Size"),R=n("Nursery"),Z=n("Block"),$=n("Place"),ee={key:0,class:"p-4"},te=h("div",{class:"text-gray-500"},"No Inventory found.",-1),le=[te];function oe(e,i,a,ne,_,u){const p=s("search-input"),v=s("jet-label"),S=s("jet-checkbox"),o=s("table-h"),b=s("table-head"),g=s("InventoryLineItem"),B=s("table-table"),I=s("pagination"),k=s("details-section");return r(),m(k,null,{title:t(()=>[P(e.$slots,"title",{},()=>[J])]),aside:t(()=>[l(p,{modelValue:_.search,"onUpdate:modelValue":i[0]||(i[0]=d=>_.search=d)},null,8,["modelValue"])]),default:t(()=>{var d;return[h("div",M,[l(B,{class:"text-left"},{default:t(()=>[l(b,null,{default:t(()=>[l(o,{class:"sticky left-0 bg-white"},{default:t(()=>[h("div",null,[l(v,{class:"sr-only",for:"select-all"},{default:t(()=>[Q]),_:1}),l(S,{id:"select-all",checked:_.allSelected,onChange:u.toggleAllSelected},null,8,["checked","onChange"])])]),_:1}),l(o,null,{default:t(()=>[W]),_:1}),l(o,null,{default:t(()=>[X]),_:1}),l(o,null,{default:t(()=>[Y]),_:1}),l(o,null,{default:t(()=>[q]),_:1}),l(o,null,{default:t(()=>[G]),_:1}),l(o,null,{default:t(()=>[K]),_:1}),l(o,null,{default:t(()=>[R]),_:1}),l(o,null,{default:t(()=>[Z]),_:1}),l(o,null,{default:t(()=>[$]),_:1}),l(o)]),_:1}),h("tbody",null,[(r(!0),f(j,null,V(a.inventory.data,c=>(r(),m(g,{key:c.id,item:c,itemSelected:u.isItemSelected(c),onSelected:se=>u.toggleSelected(c)},null,8,["item","itemSelected","onSelected"]))),128))])]),_:1}),((d=a.inventory.data)==null?void 0:d.length)<1?(r(),f("div",ee,le)):y("",!0),a.inventory.data?(r(),m(I,{key:1,items:a.inventory},null,8,["items"])):y("",!0)])]}),_:3})}var pe=T(F,[["render",oe]]);export{pe as default};
