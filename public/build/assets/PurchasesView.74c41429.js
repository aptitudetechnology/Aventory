import{r as g,a as C,P as T}from"./Pagination.f011749b.js";import{r as S}from"./ExternalLinkIcon.546b97a3.js";import{_ as I,Y as P,ao as V,r as a,o as s,c as l,w as r,P as A,d as i,N as h,b as n,a as d,L as B,J as b,X as N,W as O,M as Y}from"./app.fa9cc1ae.js";import{T as U}from"./TableTable.a7879398.js";import{T as L}from"./TableHead.490f4fcf.js";import{T as M}from"./TableH.23b83e36.js";import{T as j}from"./TableD.6c0887c5.js";import{S as E}from"./SearchInput.afb6d862.js";import{_ as H}from"./debounce.6aba544a.js";const z={components:{ExternalLinkIcon:S,ArrowDownIcon:g,ArrowUpIcon:C,DetailsSection:P,TableTable:U,TableHead:L,TableH:M,TableD:j,SearchInput:E,Pagination:T},props:{purchases:{type:Object},filters:{type:Object}},data(){return{search:this.filters.search||"",orderBy:this.filters.orderBy||"",orderByDirection:this.filters.orderByDirection||""}},watch:{search:H(function(t){this.updateSearch()},200)},methods:{formatDate:t=>V(t).format("MM/DD/YYYY"),updateOrderBy(t){this.orderBy===t?this.orderByDirection=this.orderByDirection==="desc"?"asc":"desc":(this.orderBy=t,this.orderByDirection="desc"),this.updateSearch()},updateSearch(){this.$inertia.get(this.route("purchases.index"),{search:this.search,orderBy:this.orderBy,orderByDirection:this.orderByDirection},{preserveState:!0,replace:!0})},showPurchase(t){t&&this.$inertia.get(route("purchases.show",t))}}},F={class:"col-span-6 overflow-auto"},J=i(" Purchase # "),R=i(" Date "),W=i(" Customer "),X=["onClick"],q={key:0,class:"p-4"},G={class:"text-gray-500"};function K(t,c,m,Q,e,u){const w=a("search-input"),p=a("ArrowUpIcon"),_=a("ArrowDownIcon"),y=a("table-h"),D=a("table-head"),f=a("table-d"),k=a("table-table"),v=a("pagination"),x=a("details-section");return s(),l(x,null,{title:r(()=>[A(t.$slots,"title",{},()=>[i("Recent Purchases "+h(e.search?"for "+e.search:""),1)])]),aside:r(()=>[n(w,{modelValue:e.search,"onUpdate:modelValue":c[0]||(c[0]=o=>e.search=o)},null,8,["modelValue"])]),default:r(()=>[d("div",F,[n(k,{class:"text-left"},{default:r(()=>[n(D,null,{default:r(()=>[n(y,null,{default:r(()=>[d("div",{class:B(["select-none cursor-pointer flex items-center",e.orderBy=="id"?"text-gray-900":""]),onClick:c[1]||(c[1]=o=>u.updateOrderBy("id"))},[J,e.orderBy=="id"&&e.orderByDirection=="asc"?(s(),l(p,{key:0,class:"ml-2 w-3 h-3"})):(s(),l(_,{key:1,class:"ml-2 w-3 h-3"}))],2)]),_:1}),n(y,null,{default:r(()=>[d("div",{class:B(["select-none cursor-pointer flex items-center",e.orderBy=="date"?"text-gray-900":""]),onClick:c[2]||(c[2]=o=>u.updateOrderBy("date"))},[R,e.orderBy=="date"&&e.orderByDirection=="asc"?(s(),l(p,{key:0,class:"ml-2 w-3 h-3"})):(s(),l(_,{key:1,class:"ml-2 w-3 h-3"}))],2)]),_:1}),n(y,null,{default:r(()=>[d("div",{class:B(["select-none cursor-pointer flex items-center",e.orderBy=="vendor"?"text-gray-900":""]),onClick:c[3]||(c[3]=o=>u.updateOrderBy("vendor"))},[W,e.orderBy=="vendor"&&e.orderByDirection=="asc"?(s(),l(p,{key:0,class:"ml-2 w-3 h-3"})):(s(),l(_,{key:1,class:"ml-2 w-3 h-3"}))],2)]),_:1})]),_:1}),d("tbody",null,[(s(!0),b(O,null,N(m.purchases.data,o=>(s(),b("tr",{key:o.id,tabindex:"0",class:"px-2 border-b border-gray-50 last:border-transparent hover:border-black focus:border-black transition cursor-pointer",onClick:Z=>u.showPurchase(o)},[n(f,null,{default:r(()=>[i(h(o.id),1)]),_:2},1024),n(f,null,{default:r(()=>[i(h(u.formatDate(o.date)),1)]),_:2},1024),n(f,null,{default:r(()=>[i(h(o.vendor.name),1)]),_:2},1024)],8,X))),128))])]),_:1}),m.purchases.data.length<1?(s(),b("div",q,[d("div",G," No purchases found "+h(e.search?" for "+e.search:"")+". ",1)])):Y("",!0),n(v,{items:m.purchases},null,8,["items"])])]),_:3})}var le=I(z,[["render",K]]);export{le as default};
