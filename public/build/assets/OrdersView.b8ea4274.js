import{r as S,a as O,P as T}from"./Pagination.af7f5277.js";import{r as C}from"./ExternalLinkIcon.59cc0665.js";import{D as I}from"./DetailsSection.5647e5ed.js";import{T as V}from"./TableTable.57c1791a.js";import{T as Q}from"./TableHead.02c9ad7d.js";import{T as A}from"./TableH.0d8a0dd9.js";import{T as q}from"./TableD.547be9db.js";import{S as N}from"./SearchInput.8d98e40e.js";import{_ as U}from"./debounce.99af33cc.js";import{h as Y}from"./moment.9709ab41.js";import{_ as M}from"./plugin-vue_export-helper.21dcd24c.js";import{r as l,o as n,c as d,w as t,z as j,d as a,x as i,b as o,a as m,u as b,t as D,D as z,F as E,v as F}from"./app.c6d51eb6.js";import"./SectionTitle.6e9e4bb1.js";import"./Input.3e59ac9d.js";const H={components:{ExternalLinkIcon:C,ArrowDownIcon:S,ArrowUpIcon:O,DetailsSection:I,TableTable:V,TableHead:Q,TableH:A,TableD:q,SearchInput:N,Pagination:T},props:{orders:{type:Object},areQuotes:{type:Boolean,default:!1},filters:{type:Object}},data(){return{search:this.filters.search||"",orderBy:this.filters.orderBy||"",orderByDirection:this.filters.orderByDirection||""}},watch:{search:U(function(s){this.updateSearch()},200)},methods:{formatDate:s=>Y(s).format("MM/DD/YYYY"),updateOrderBy(s){this.orderBy===s?this.orderByDirection=this.orderByDirection==="desc"?"asc":"desc":(this.orderBy=s,this.orderByDirection="desc"),this.updateSearch()},updateSearch(){this.areQuotes?this.$inertia.get(this.route("quotes.index"),{search:this.search,orderBy:this.orderBy,orderByDirection:this.orderByDirection},{preserveState:!0,replace:!0}):this.$inertia.get(this.route("orders.index"),{search:this.search,orderBy:this.orderBy,orderByDirection:this.orderByDirection},{preserveState:!0,replace:!0})},showOrder(s){s.is_quote?this.$inertia.get(route("quotes.show",s)):this.$inertia.get(route("orders.show",s))}}},L={class:"col-span-6 overflow-auto"},P=a(" Date "),R=a(" Customer "),G=a("Status"),J=a("Total"),K=["onClick"],W={key:0,class:"p-4"},X={class:"text-gray-500"};function Z(s,c,u,$,e,h){const w=l("search-input"),y=l("ArrowUpIcon"),p=l("ArrowDownIcon"),_=l("table-h"),k=l("table-head"),f=l("table-d"),v=l("table-table"),x=l("pagination"),g=l("details-section");return n(),d(g,null,{title:t(()=>[j(s.$slots,"title",{},()=>[a("Recent "+i(u.areQuotes?"Quotes":"Orders")+" "+i(e.search?"for "+e.search:""),1)])]),aside:t(()=>[o(w,{modelValue:e.search,"onUpdate:modelValue":c[0]||(c[0]=r=>e.search=r)},null,8,["modelValue"])]),default:t(()=>[m("div",L,[o(v,{class:"text-left"},{default:t(()=>[o(k,null,{default:t(()=>[o(_,null,{default:t(()=>[m("div",{class:b(["select-none cursor-pointer flex items-center",e.orderBy=="id"?"text-gray-900":""]),onClick:c[1]||(c[1]=r=>h.updateOrderBy("id"))},[a(i(u.areQuotes?"Quote #":"Order #")+" ",1),e.orderBy=="id"&&e.orderByDirection=="asc"?(n(),d(y,{key:0,class:"ml-2 w-3 h-3"})):(n(),d(p,{key:1,class:"ml-2 w-3 h-3"}))],2)]),_:1}),o(_,null,{default:t(()=>[m("div",{class:b(["select-none cursor-pointer flex items-center",e.orderBy=="date"?"text-gray-900":""]),onClick:c[2]||(c[2]=r=>h.updateOrderBy("date"))},[P,e.orderBy=="date"&&e.orderByDirection=="asc"?(n(),d(y,{key:0,class:"ml-2 w-3 h-3"})):(n(),d(p,{key:1,class:"ml-2 w-3 h-3"}))],2)]),_:1}),o(_,null,{default:t(()=>[m("div",{class:b(["select-none cursor-pointer flex items-center",e.orderBy=="customer"?"text-gray-900":""]),onClick:c[3]||(c[3]=r=>h.updateOrderBy("customer"))},[R,e.orderBy=="customer"&&e.orderByDirection=="asc"?(n(),d(y,{key:0,class:"ml-2 w-3 h-3"})):(n(),d(p,{key:1,class:"ml-2 w-3 h-3"}))],2)]),_:1}),o(_,null,{default:t(()=>[G]),_:1}),o(_,null,{default:t(()=>[J]),_:1})]),_:1}),m("tbody",null,[(n(!0),D(E,null,z(u.orders.data,r=>(n(),D("tr",{key:r.id,tabindex:"0",class:"px-2 border-b border-gray-50 last:border-transparent hover:border-black focus:border-black transition cursor-pointer",onClick:B=>h.showOrder(r)},[o(f,null,{default:t(()=>[a(i(r.id),1)]),_:2},1024),o(f,null,{default:t(()=>[a(i(h.formatDate(r.date)),1)]),_:2},1024),o(f,null,{default:t(()=>[a(i(r.customer.name),1)]),_:2},1024),o(f,null,{default:t(()=>{var B;return[a(i(r.is_quote?r.status:(B=r.deliveryStatus)==null?void 0:B.name),1)]}),_:2},1024),o(f,null,{default:t(()=>[a(i(s.formatMoney(r.grand_total)),1)]),_:2},1024)],8,K))),128))])]),_:1}),u.orders.data.length<1?(n(),D("div",W,[m("div",X," No "+i(u.areQuotes?"quotes":"orders")+" found"+i(e.search?" for "+e.search:"")+". ",1)])):F("",!0),o(x,{items:u.orders},null,8,["items"])])]),_:3})}var _e=M(H,[["render",Z]]);export{_e as default};
