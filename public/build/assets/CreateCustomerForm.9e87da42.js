import{_ as z,a0 as j,a2 as T,a4 as L,a5 as J,a6 as R,aa as B,a9 as M,r as i,o as h,c as b,w as n,a as l,b as s,L as c,Q as f,U as x,M as N,d as u}from"./app.9dc34ef4.js";import{J as I}from"./FormSection.d0f32ab4.js";import{J as A}from"./ActionMessage.59b94243.js";import{S as D,a as P,b as G,c as q}from"./switch.esm.c16c42ce.js";import"./description.esm.f365edce.js";import"./label.esm.2a39737d.js";const E={components:{JetActionMessage:A,JetButton:j,JetFormSection:I,JetInput:T,JetInputError:L,JetLabel:J,JetSecondaryButton:R,Switch:D,SwitchDescription:P,SwitchGroup:G,SwitchLabel:q,TextAreaInput:B,SelectBox:M},props:{customerName:{type:String,default:""},redirect:{type:Boolean,default:!0}},data(){return{price_level:null,priceLevels:this.$page.props.priceLevels,newCustomer:this.$inertia.form({_method:"POST",redirect:this.redirect,name:this.customerName,address:"",city:"",state:"",zip:"",customer_price_level_id:null,mailing_same_as_primary:!0,mailing_address:"",mailing_city:"",mailing_state:"",mailing_zip:"",notes:"",is_taxable:!1,tax_percentage:null,discount_percentage:0,reseller_permit_expiration:null})}},computed:{hasCustomTaxRate:{get(){return this.newCustomer.tax_percentage!==null},set(p){this.newCustomer.tax_percentage=p==!0?8:null}}},watch:{price_level:function(){this.price_level?this.newCustomer.customer_price_level_id=this.price_level.id:this.newCustomer.customer_price_level_id=null}},methods:{createCustomer(){this.redirect?this.newCustomer.post(route("customers.store"),{errorBag:"createCustomer",preserveScroll:!0}):axios.post(route("customers.store"),this.newCustomer).then(p=>{this.$emit("created",p.data)})}}},F=u("Create a Customer"),Z=u(" Create a new customer to make orders and quotes to. "),O={class:"col-span-6"},Q={class:"grid gap-4"},H={class:"col-span-3"},K={class:"col-span-3"},W={class:"grid gap-4"},X=l("div",{class:"col-span-3 pt-6"},[l("h3",{class:"text-lg leading-6 text-gray-900"}," Primary Address ")],-1),Y={class:"col-span-3"},$={class:"col-span-3 md:col-span-1"},ee={class:"col-span-3 md:col-span-1"},se={class:"col-span-3 md:col-span-1"},te={class:"flex-grow flex flex-col mr-4"},le=u("Mailing same as primary"),oe=u("Indicate whether the mailing address of this customer is the same as the primary address."),ne={class:"grid gap-4"},re=l("div",{class:"col-span-3 pt-6"},[l("h3",{class:"text-lg leading-6 text-gray-900"}," Mailing Address ")],-1),ae={class:"col-span-3"},ie={class:"col-span-3 md:col-span-1"},me={class:"col-span-3 md:col-span-1"},ue={class:"col-span-3 md:col-span-1"},ce={class:"grid gap-4"},de=l("div",{class:"col-span-3 pt-6"},[l("h3",{class:"text-lg leading-6 text-gray-900"}," Customer Details ")],-1),pe={class:"grid gap-4 col-span-3"},_e={class:"grid gap-4 sm:grid-cols-2 col-span-3 items-center"},ge=u("Taxable?"),we={class:"grid gap-4 sm:gap-6 sm:grid-cols-3 col-span-3"},fe={class:"flex flex-col mr-4"},xe=u("Custom Tax Rate?"),Ce=u("Indicate whether this customer has a custom tax rate to be applied to taxable orders and products."),ve={class:"grid gap-4 sm:grid-cols-2 col-span-3"},he=u("Save Customer");function be(p,t,Ve,ye,e,d){const a=i("jet-label"),m=i("jet-input"),r=i("jet-input-error"),V=i("text-area-input"),_=i("SwitchLabel"),y=i("SwitchDescription"),g=i("Switch"),w=i("SwitchGroup"),S=i("select-box"),C=i("percentage-input"),k=i("jet-button"),U=i("jet-form-section");return h(),b(U,{onSubmitted:d.createCustomer},{title:n(()=>[F]),description:n(()=>[Z]),form:n(()=>{var v;return[l("div",O,[l("div",Q,[l("div",H,[s(a,{for:"name",value:"Customer Name"}),s(m,{id:"name",type:"text",class:"mt-1 block w-full",modelValue:e.newCustomer.name,"onUpdate:modelValue":t[0]||(t[0]=o=>e.newCustomer.name=o),required:"",autocomplete:"organization"},null,8,["modelValue"]),s(r,{message:e.newCustomer.errors.name,class:"mt-2"},null,8,["message"])]),l("div",K,[s(a,{for:"notes",value:"Customer Notes"}),s(V,{id:"notes",class:"mt-1 block w-full",modelValue:e.newCustomer.notes,"onUpdate:modelValue":t[1]||(t[1]=o=>e.newCustomer.notes=o)},null,8,["modelValue"]),s(r,{message:e.newCustomer.errors.notes,class:"mt-2"},null,8,["message"])])]),l("div",W,[X,l("div",Y,[s(a,{for:"address",value:"Street Address"}),s(m,{id:"address",type:"text",class:"mt-1 block w-full",modelValue:e.newCustomer.address,"onUpdate:modelValue":t[2]||(t[2]=o=>e.newCustomer.address=o),autocomplete:"address"},null,8,["modelValue"]),s(r,{message:e.newCustomer.errors.address,class:"mt-2"},null,8,["message"])]),l("div",$,[s(a,{for:"city",value:"City"}),s(m,{id:"city",type:"text",class:"mt-1 block w-full",modelValue:e.newCustomer.city,"onUpdate:modelValue":t[3]||(t[3]=o=>e.newCustomer.city=o),autocomplete:"address-level2"},null,8,["modelValue"]),s(r,{message:e.newCustomer.errors.city,class:"mt-2"},null,8,["message"])]),l("div",ee,[s(a,{for:"state",value:"State"}),s(m,{id:"state",type:"text",class:"mt-1 block w-full",modelValue:e.newCustomer.state,"onUpdate:modelValue":t[4]||(t[4]=o=>e.newCustomer.state=o),autocomplete:"address-level1"},null,8,["modelValue"]),s(r,{message:e.newCustomer.errors.state,class:"mt-2"},null,8,["message"])]),l("div",se,[s(a,{for:"zip",value:"Zip"}),s(m,{id:"zip",type:"text",class:"mt-1 block w-full",modelValue:e.newCustomer.zip,"onUpdate:modelValue":t[5]||(t[5]=o=>e.newCustomer.zip=o),autocomplete:"postal-code"},null,8,["modelValue"]),s(r,{message:e.newCustomer.errors.zip,class:"mt-2"},null,8,["message"])]),s(w,{as:"div",class:"flex items-center justify-between col-span-3"},{default:n(()=>[l("span",te,[s(_,{as:"span",class:"text-sm text-gray-900"},{default:n(()=>[le]),_:1}),s(y,{as:"span",class:"text-sm text-gray-500"},{default:n(()=>[oe]),_:1})]),s(g,{modelValue:e.newCustomer.mailing_same_as_primary,"onUpdate:modelValue":t[6]||(t[6]=o=>e.newCustomer.mailing_same_as_primary=o),class:c([e.newCustomer.mailing_same_as_primary?"bg-green-600":"bg-gray-200","relative inline-flex flex-shrink-0 h-6 w-11 border-2 border-transparent rounded-full cursor-pointer transition-colors ease-in-out duration-200 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500"])},{default:n(()=>[l("span",{"aria-hidden":"true",class:c([e.newCustomer.mailing_same_as_primary?"translate-x-5":"translate-x-0","pointer-events-none inline-block h-5 w-5 rounded-full bg-white shadow transnewCustomer ring-0 transition ease-in-out duration-200"])},null,2)]),_:1},8,["modelValue","class"])]),_:1})]),f(l("div",ne,[re,l("div",ae,[s(a,{for:"mailing_address",value:"Mailing Street Address"}),s(m,{id:"mailing_address",type:"text",class:"mt-1 block w-full",modelValue:e.newCustomer.mailing_address,"onUpdate:modelValue":t[7]||(t[7]=o=>e.newCustomer.mailing_address=o),autocomplete:"address"},null,8,["modelValue"]),s(r,{message:e.newCustomer.errors.mailing_address,class:"mt-2"},null,8,["message"])]),l("div",ie,[s(a,{for:"mailing_city",value:"Mailing City"}),s(m,{id:"mailing_city",type:"text",class:"mt-1 block w-full",modelValue:e.newCustomer.mailing_city,"onUpdate:modelValue":t[8]||(t[8]=o=>e.newCustomer.mailing_city=o),autocomplete:"address-level2"},null,8,["modelValue"]),s(r,{message:e.newCustomer.errors.mailing_city,class:"mt-2"},null,8,["message"])]),l("div",me,[s(a,{for:"mailing_state",value:"Mailing State"}),s(m,{id:"mailing_state",type:"text",class:"mt-1 block w-full",modelValue:e.newCustomer.mailing_state,"onUpdate:modelValue":t[9]||(t[9]=o=>e.newCustomer.mailing_state=o),autocomplete:"address-level1"},null,8,["modelValue"]),s(r,{message:e.newCustomer.errors.mailing_state,class:"mt-2"},null,8,["message"])]),l("div",ue,[s(a,{for:"mailing_zip",value:"Mailing Zip"}),s(m,{id:"mailing_zip",type:"text",class:"mt-1 block w-full",modelValue:e.newCustomer.mailing_zip,"onUpdate:modelValue":t[10]||(t[10]=o=>e.newCustomer.mailing_zip=o),autocomplete:"postal-code"},null,8,["modelValue"]),s(r,{message:e.newCustomer.errors.mailing_zip,class:"mt-2"},null,8,["message"])])],512),[[x,!e.newCustomer.mailing_same_as_primary]]),l("div",ce,[de,l("div",pe,[l("div",_e,[l("div",null,[((v=e.priceLevels)==null?void 0:v.length)>0?(h(),b(S,{key:0,items:e.priceLevels,selectedItem:e.price_level,modelValue:e.price_level,"onUpdate:modelValue":t[11]||(t[11]=o=>e.price_level=o),labelValue:"Customer Price Level"},null,8,["items","selectedItem","modelValue"])):N("",!0),s(r,{message:e.newCustomer.errors.customer_price_level_id,class:"mt-2"},null,8,["message"])]),s(w,{as:"div",class:"flex items-center justify-start col-span-3 sm:col-span-1"},{default:n(()=>[s(_,{as:"span",class:"text-sm text-gray-900 mr-4"},{default:n(()=>[ge]),_:1}),s(g,{modelValue:e.newCustomer.is_taxable,"onUpdate:modelValue":t[12]||(t[12]=o=>e.newCustomer.is_taxable=o),class:c([e.newCustomer.is_taxable?"bg-green-600":"bg-gray-200","relative inline-flex flex-shrink-0 h-6 w-11 border-2 border-transparent rounded-full cursor-pointer transition-colors ease-in-out duration-200 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500"])},{default:n(()=>[l("span",{"aria-hidden":"true",class:c([e.newCustomer.is_taxable?"translate-x-5":"translate-x-0","pointer-events-none inline-block h-5 w-5 rounded-full bg-white shadow transnewCustomer ring-0 transition ease-in-out duration-200"])},null,2)]),_:1},8,["modelValue","class"])]),_:1})]),l("div",we,[f(s(w,{as:"div",class:"flex items-center justify-start sm:col-span-2"},{default:n(()=>[l("div",fe,[s(_,{as:"span",class:"text-sm font-medium text-gray-900"},{default:n(()=>[xe]),_:1}),s(_,{as:"span",class:"text-sm text-gray-500"},{default:n(()=>[Ce]),_:1})]),s(g,{modelValue:d.hasCustomTaxRate,"onUpdate:modelValue":t[13]||(t[13]=o=>d.hasCustomTaxRate=o),class:c([d.hasCustomTaxRate?"bg-green-600":"bg-gray-200","relative inline-flex flex-shrink-0 h-6 w-11 border-2 border-transparent rounded-full cursor-pointer transition-colors ease-in-out duration-200 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500"])},{default:n(()=>[l("span",{"aria-hidden":"true",class:c([d.hasCustomTaxRate?"translate-x-5":"translate-x-0","pointer-events-none inline-block h-5 w-5 rounded-full bg-white shadow transnewCustomer ring-0 transition ease-in-out duration-200"])},null,2)]),_:1},8,["modelValue","class"])]),_:1},512),[[x,e.newCustomer.is_taxable]]),f(l("div",null,[s(a,{for:"tax_percentage",value:"Customer Tax Rate"}),s(C,{id:"tax_percentage",max:"100.00",min:"0.00",step:".01",placeholder:"0.00",modelValue:e.newCustomer.tax_percentage,"onUpdate:modelValue":t[14]||(t[14]=o=>e.newCustomer.tax_percentage=o)},null,8,["modelValue"]),s(r,{message:e.newCustomer.errors.tax_percentage,class:"mt-2"},null,8,["message"])],512),[[x,d.hasCustomTaxRate]])])]),l("div",ve,[l("div",null,[s(a,{for:"discount_percentage",value:"Percentage Discount"}),s(C,{id:"discount_percentage",max:"100",min:"0",placeholder:"0",modelValue:e.newCustomer.discount_percentage,"onUpdate:modelValue":t[15]||(t[15]=o=>e.newCustomer.discount_percentage=o)},null,8,["modelValue"]),s(r,{message:e.newCustomer.errors.discount_percentage,class:"mt-2"},null,8,["message"])]),l("div",null,[s(a,{for:"reseller_permit_expiration",value:"Reseller Permit Expiration"}),s(m,{id:"reseller_permit_expiration",type:"date",class:"mt-1 block w-full",modelValue:e.newCustomer.reseller_permit_expiration,"onUpdate:modelValue":t[16]||(t[16]=o=>e.newCustomer.reseller_permit_expiration=o)},null,8,["modelValue"]),s(r,{message:e.newCustomer.errors.reseller_permit_expiration,class:"mt-2"},null,8,["message"])])])])])]}),actions:n(()=>[s(k,{type:"submit",class:c({"opacity-25":e.newCustomer.processing}),disabled:e.newCustomer.processing},{default:n(()=>[he]),_:1},8,["class","disabled"])]),_:1},8,["onSubmitted"])}var Le=z(E,[["render",be]]);export{Le as default};
