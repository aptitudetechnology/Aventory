import{S as C}from"./SectionTitle.6e9e4bb1.js";import{_ as B}from"./plugin-vue_export-helper.21dcd24c.js";import{r as x,o as u,t as v,a as _,b as a,w as t,z as p,v as h,g as f,F as J,c as w,d as n,V as y}from"./app.c6d51eb6.js";import{J as $}from"./Button.9edbaae6.js";import{J as b}from"./ConfirmationModal.08e30afa.js";import{J as S}from"./DangerButton.21c54749.js";import{J as D}from"./SecondaryButton.d03b45d1.js";import"./Modal.a8ddeb0e.js";const V={components:{JetSectionTitle:C}},N={class:"md:grid md:gap-6"},z={class:"mt-5 md:mt-0 md:col-span-2"},A={class:"px-4 py-5 bg-white sm:p-6 shadow"};function L(s,l,e,c,i,g){const m=x("jet-section-title");return u(),v("div",N,[_("div",z,[_("div",A,[a(m,{class:"col-span-6"},{title:t(()=>[p(s.$slots,"title")]),description:t(()=>[p(s.$slots,"description")]),_:3}),p(s.$slots,"default")])])])}var M=B(V,[["render",L]]);const T={key:0,class:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},j=_("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"},null,-1),F=_("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"},null,-1),O=[j,F],k={__name:"Loader",props:{loading:Boolean},setup(s){return(l,e)=>s.loading?(u(),v("svg",T,O)):h("",!0)}},Q=n(" Connect your accounting system "),q=n(" Sync your orders and quotes with your accounting platform of choice, including QuickBooks Online or QuickBooks Desktop. "),E=n(" Connect now "),H=n(" Disconnect now "),I=n(" Disconnect "),P=n(" Are you sure you want to disconnect accounting? "),R=n(" Cancel "),U=n(" Disconnect "),ot={__name:"ConnectAccounting",props:["team"],setup(s){const l=s,e=f(!1),c=f(!1),i=f(!!l.team.codat_company_id);function g(){e.value=!0;const{team:r}=l;y.post(route("teams.connect",{team:r})).then(({data:{redirectUrl:o}})=>{let d=new URL(o);d.searchParams.append("teamId",r.id),window.location.href=d,i.value=!0}).finally(()=>{e.value=!1})}function m(){e.value=!0,c.value=!1;const{team:r}=l;y.delete(route("teams.disconnect",{team:r})).then(()=>{i.value=!1}).finally(()=>{e.value=!1})}return(r,o)=>(u(),v(J,null,[a(M,null,{title:t(()=>[Q]),description:t(()=>[q]),default:t(()=>[i.value?h("",!0):(u(),w($,{key:0,type:"button",disabled:e.value,onClick:g},{default:t(()=>[a(k,{loading:e.value},null,8,["loading"]),E]),_:1},8,["disabled"])),i.value?(u(),w($,{key:1,type:"button",disabled:e.value,onClick:o[0]||(o[0]=d=>c.value=!0)},{default:t(()=>[a(k,{loading:e.value},null,8,["loading"]),H]),_:1},8,["disabled"])):h("",!0)]),_:1}),a(b,{show:c.value,onClose:o[2]||(o[2]=d=>c.value=!1)},{title:t(()=>[I]),content:t(()=>[P]),footer:t(()=>[a(D,{onClick:o[1]||(o[1]=d=>c.value=!1)},{default:t(()=>[R]),_:1}),a(S,{class:"ml-2",onClick:m},{default:t(()=>[U]),_:1})]),_:1},8,["show"])],64))}};export{ot as default};
