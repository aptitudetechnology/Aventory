import{S as x}from"./SectionTitle.6e9e4bb1.js";import{J as V}from"./Input.3e59ac9d.js";import{J as v}from"./Label.98bc58ad.js";import{J as N}from"./Button.9edbaae6.js";import{A as I}from"./AppLayout.fc980c7c.js";import{M as C}from"./MainArea.debbbb70.js";import{I as S}from"./InventoryTabs.15d2be15.js";import{C as R}from"./Card.16c3126f.js";import{S as L}from"./SelectBox.4394748c.js";import{r,o as m,c as _,w as n,a,b as l,v as f,t as j,y as J,d as c}from"./app.c6d51eb6.js";import{_ as T}from"./plugin-vue_export-helper.21dcd24c.js";import"./dom.esm.fa0fef86.js";import"./calculate-active-index.esm.611fafbc.js";import"./use-resolve-button-type.esm.4623ef0e.js";import"./use-tree-walker.esm.683d9237.js";import"./description.esm.62a21e39.js";import"./TabLink.ac542be0.js";const M={components:{SectionTitle:x,JetInput:V,JetLabel:v,JetButton:N,AppLayout:I,MainArea:C,InventoryTabs:S,Card:R,SelectBox:L},props:["nurseries"],data(){return{selectedNursery:null,blocks:[],selectedBlock:null,places:[],form:this.$inertia.form({starting_row:null,ending_row:null})}},computed:{firstRowInBlock(){return this.places.map(o=>o.row_number).sort((o,e)=>o-e)[0]},lastRowInBlock(){return this.places.map(o=>o.row_number).sort((o,e)=>{if(o<e)return 1;if(o>e)return-1})[0]}},watch:{selectedNursery(){this.getBlocks()},selectedBlock(){this.getPlaces()}},methods:{getBlocks(){this.blocks=[],this.selectedBlock=null,this.places=[],this.starting_row=null,this.ending_row=null,this.selectedNursery&&axios.get(route("api.blocks.index",this.selectedNursery)).then(o=>{this.blocks=o.data})},getPlaces(){this.selectedBlock&&axios.get(route("api.places.index",this.selectedBlock)).then(o=>{this.places=o.data})},clearLocations(){this.form.post(route("clear-locations.clear",this.selectedBlock))}}},U={class:"flex-1 relative z-0 flex overflow-hidden"},A=c("Select a Nursery Location"),E={class:"space-y-4"},P={class:"grid gap-4 grid-cols-2"},z=c("Starting Row to Clear"),O=c("Ending Row to Clear"),q=c("Clear Locations");function D(o,e,w,F,t,i){const k=r("InventoryTabs"),g=r("section-title"),u=r("select-box"),d=r("jet-label"),p=r("jet-input"),b=r("jet-button"),h=r("Card"),B=r("main-area"),y=r("app-layout");return m(),_(y,null,{default:n(()=>[a("div",U,[l(B,{dontShowOnMobile:!1},{default:n(()=>[l(k),l(h,{class:"w-full max-w-screen-sm"},{default:n(()=>[l(g,null,{title:n(()=>[A]),_:1}),a("div",E,[l(u,{labelValue:"Select Nursery",items:w.nurseries,modelValue:t.selectedNursery,"onUpdate:modelValue":e[0]||(e[0]=s=>t.selectedNursery=s)},null,8,["items","modelValue"]),t.selectedNursery?(m(),_(u,{key:0,labelValue:"Select Block",items:t.blocks,modelValue:t.selectedBlock,"onUpdate:modelValue":e[1]||(e[1]=s=>t.selectedBlock=s)},null,8,["items","modelValue"])):f("",!0),t.selectedBlock&&t.selectedNursery?(m(),j("form",{key:1,onSubmit:e[4]||(e[4]=J((...s)=>i.clearLocations&&i.clearLocations(...s),["prevent"]))},[a("div",P,[a("div",null,[l(d,{for:"starting"},{default:n(()=>[z]),_:1}),l(p,{id:"starting",type:"number",class:"w-full",min:i.firstRowInBlock,max:i.lastRowInBlock,modelValue:t.form.starting_row,"onUpdate:modelValue":e[2]||(e[2]=s=>t.form.starting_row=s)},null,8,["min","max","modelValue"])]),a("div",null,[l(d,{for:"ending"},{default:n(()=>[O]),_:1}),l(p,{id:"ending",type:"number",class:"w-full",min:t.form.starting_row?t.form.starting_row:i.firstRowInBlock,max:i.lastRowInBlock,modelValue:t.form.ending_row,"onUpdate:modelValue":e[3]||(e[3]=s=>t.form.ending_row=s)},null,8,["min","max","modelValue"])])]),l(b,{type:"submit",class:"mt-4"},{default:n(()=>[q]),_:1})],32)):f("",!0)])]),_:1})]),_:1})])]),_:1})}var ae=T(M,[["render",D]]);export{ae as default};
