import{_ as P,a0 as z,a2 as I,a4 as k,a5 as q,a6 as x,aa as C,a9 as j,r as i,o as d,J,b as o,w as l,a as r,c,M as a,L as h,O as A,a8 as U,d as m}from"./app.9a96a844.js";import{J as O}from"./DialogModal.c326097a.js";import{J as B}from"./ActionMessage.a58503e1.js";import{S as L,a as N,b as M,c as T}from"./switch.esm.61105b0f.js";import"./Modal.ea87b44a.js";import"./description.esm.e03e779e.js";import"./label.esm.296d15ff.js";const D={components:{Switch:L,SwitchDescription:N,SwitchGroup:M,SwitchLabel:T,JetActionMessage:B,JetButton:z,JetDialogModal:O,JetInput:I,JetInputError:k,JetLabel:q,JetSecondaryButton:x,TextAreaInput:C,SelectBox:j},props:{purchase:Object},data(){return{addAnother:!0,products:this.$page.props.products,sizes:this.$page.props.sizes,selectedProduct:null,selectedOriginalSize:null,selectedSize:null,creatingPurchaseItem:!1,form:this.$inertia.form({_method:"POST",product_id:null,original_size_id:null,size_id:null,quantity_ordered:null,quantity_confirmed:null,unit_price:null,ready_date:null,received:!0})}},watch:{selectedProduct(){this.selectedProduct?this.form.product_id=this.selectedProduct.id:this.form.product_id=null},selectedOriginalSize(n){n?(this.form.original_size_id=n.id,this.selectedSize||(this.selectedSize=n)):this.form.original_size_id=null},"form.quantity_ordered"(n){this.form.quantity_confirmed=n},selectedSize(n){n?this.form.size_id=n.id:this.form.size_id=null}},methods:{saveAndClose(){this.addAnother=!1,this.createPurchaseItem()},createPurchaseItem(){this.form.post(route("purchases.purchase-item.store",this.purchase),{preserveScroll:!0,preserveState:!0,onSuccess:()=>{this.form.reset(),this.selectedSize=null,this.selectedProduct=null,this.addAnother==!1&&(this.creatingPurchaseItem=!1)}})}}},G=m("New Purchase Item"),E=m("Add an purchase item."),K=m(" Add a new purchase item. Then, you can add this item to inventory and print tags. "),Q={class:"col-span-6 grid gap-4"},R={class:"grid gap-4 sm:grid-cols-2"},F={class:"sm:col-span-2 min-w-0"},H={class:"sm:col-span-1"},W={class:"sm:col-span-1"},X={class:"grid gap-4 grid-cols-1 sm:grid-cols-3"},Y={class:"sm:col-span-1"},Z={class:"sm:col-span-1"},$={class:"sm:col-span-1"},ee={class:"sm:col-span-1"},te=m("Received?"),se={class:"flex justify-between items-center w-full"},oe=m("Cancel"),re=m("Save and add another Item"),le=m("Save and Close");function ie(n,t,ne,de,e,p){const g=i("jet-button"),y=i("select-box"),u=i("jet-input-error"),f=i("jet-label"),_=i("jet-input"),b=i("SwitchLabel"),v=i("Switch"),S=i("SwitchGroup"),w=i("jet-secondary-button"),V=i("jet-dialog-modal");return d(),J("div",null,[o(g,{type:"button",onClick:t[0]||(t[0]=s=>e.creatingPurchaseItem=!0)},{default:l(()=>[G]),_:1}),o(V,{show:e.creatingPurchaseItem,onClose:t[12]||(t[12]=s=>e.creatingPurchaseItem=!1)},{title:l(()=>[E]),description:l(()=>[K]),content:l(()=>[r("form",{onSubmit:t[9]||(t[9]=A((...s)=>p.createPurchaseItem&&p.createPurchaseItem(...s),["prevent"])),onKeydown:t[10]||(t[10]=U((...s)=>p.createPurchaseItem&&p.createPurchaseItem(...s),["enter"]))},[r("div",Q,[r("div",R,[r("div",F,[o(y,{labelValue:"Product",items:e.products,selectedItem:e.selectedProduct,modelValue:e.selectedProduct,"onUpdate:modelValue":t[1]||(t[1]=s=>e.selectedProduct=s)},null,8,["items","selectedItem","modelValue"]),e.form.product_id?a("",!0):(d(),c(u,{key:0,message:e.form.errors.product_id,class:"mt-2"},null,8,["message"]))]),r("div",H,[o(y,{labelValue:"Purchase Size",items:e.sizes,selectedItem:e.selectedOriginalSize,modelValue:e.selectedOriginalSize,"onUpdate:modelValue":t[2]||(t[2]=s=>e.selectedOriginalSize=s)},null,8,["items","selectedItem","modelValue"]),e.form.size_id?a("",!0):(d(),c(u,{key:0,message:e.form.errors.size_id,class:"mt-2"},null,8,["message"]))]),r("div",W,[o(y,{labelValue:"Size",items:e.sizes,selectedItem:e.selectedSize,modelValue:e.selectedSize,"onUpdate:modelValue":t[3]||(t[3]=s=>e.selectedSize=s)},null,8,["items","selectedItem","modelValue"]),e.form.size_id?a("",!0):(d(),c(u,{key:0,message:e.form.errors.size_id,class:"mt-2"},null,8,["message"]))])]),r("div",X,[r("div",Y,[o(f,{for:"quantity_ordered",value:"Quantity Purchaseed"}),o(_,{id:"quantity_ordered",type:"number",step:"1",class:"mt-1 block w-full",modelValue:e.form.quantity_ordered,"onUpdate:modelValue":t[4]||(t[4]=s=>e.form.quantity_ordered=s),required:""},null,8,["modelValue"]),e.form.quantity_ordered?a("",!0):(d(),c(u,{key:0,message:e.form.errors.quantity_ordered,class:"mt-2"},null,8,["message"]))]),r("div",Z,[o(f,{for:"quantity_confirmed",value:"Quantity Confirmed"}),o(_,{id:"quantity_confirmed",type:"number",step:"1",class:"mt-1 block w-full",modelValue:e.form.quantity_confirmed,"onUpdate:modelValue":t[5]||(t[5]=s=>e.form.quantity_confirmed=s),required:""},null,8,["modelValue"]),e.form.quantity_confirmed?a("",!0):(d(),c(u,{key:0,message:e.form.errors.quantity_confirmed,class:"mt-2"},null,8,["message"]))]),r("div",$,[o(f,{for:"unit_price",value:"Unit Price"}),o(_,{id:"unit_price",type:"number",step:"0.01",class:"mt-1 block w-full",modelValue:e.form.unit_price,"onUpdate:modelValue":t[6]||(t[6]=s=>e.form.unit_price=s),required:""},null,8,["modelValue"]),e.form.unit_price?a("",!0):(d(),c(u,{key:0,message:e.form.errors.unit_price,class:"mt-2"},null,8,["message"]))]),r("div",ee,[o(f,{for:"ready_date",value:"Ready Date"}),o(_,{id:"ready_date",type:"date",class:"mt-1 block w-full",modelValue:e.form.ready_date,"onUpdate:modelValue":t[7]||(t[7]=s=>e.form.ready_date=s),required:""},null,8,["modelValue"]),e.form.ready_date?a("",!0):(d(),c(u,{key:0,message:e.form.errors.ready_date,class:"mt-2"},null,8,["message"]))]),o(S,{as:"div",class:"flex items-center justify-start sm:col-span-1"},{default:l(()=>[o(b,{as:"span",class:"text-sm font-medium text-gray-900 mr-4"},{default:l(()=>[te]),_:1}),o(v,{modelValue:e.form.received,"onUpdate:modelValue":t[8]||(t[8]=s=>e.form.received=s),class:h([e.form.received?"bg-green-600":"bg-gray-200","relative inline-flex flex-shrink-0 h-6 w-11 border-2 border-transparent rounded-full cursor-pointer transition-colors ease-in-out duration-200 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500"])},{default:l(()=>[r("span",{"aria-hidden":"true",class:h([e.form.received?"translate-x-5":"translate-x-0","pointer-events-none inline-block h-5 w-5 rounded-full bg-white shadow transform ring-0 transition ease-in-out duration-200"])},null,2)]),_:1},8,["modelValue","class"])]),_:1})])])],32)]),footer:l(()=>[r("div",se,[o(w,{type:"button",onClick:t[11]||(t[11]=s=>e.creatingPurchaseItem=!1)},{default:l(()=>[oe]),_:1}),r("div",null,[o(g,{type:"submit",onClick:p.createPurchaseItem,class:h([{"opacity-25":e.form.processing}," mb-2 sm:mb-0 sm:mr-2"]),disabled:e.form.processing},{default:l(()=>[re]),_:1},8,["onClick","class","disabled"]),o(g,{type:"submit",onClick:p.saveAndClose,class:h({"opacity-25":e.form.processing}),disabled:e.form.processing},{default:l(()=>[le]),_:1},8,["onClick","class","disabled"])])])]),_:1},8,["show"])])}var he=P(D,[["render",ie]]);export{he as default};
