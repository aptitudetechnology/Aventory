import{J as P}from"./Button.9edbaae6.js";import{J as z}from"./DialogModal.15f17e82.js";import{J as I}from"./Input.3e59ac9d.js";import{J as k}from"./InputError.871a3d35.js";import{J as q}from"./Label.98bc58ad.js";import{J as x}from"./ActionMessage.beea7ba5.js";import{J as C}from"./SecondaryButton.d03b45d1.js";import{T as j}from"./TextAreaInput.8e8fc994.js";import{S as J}from"./SelectBox.4394748c.js";import{r as l,o as m,t as A,b as o,w as i,a as r,c as u,v as c,u as h,y as U,I as B,d as a}from"./app.c6d51eb6.js";import{_ as O}from"./plugin-vue_export-helper.21dcd24c.js";import{S as N,a as T,b as L,c as D}from"./switch.esm.341fd662.js";import"./Modal.a8ddeb0e.js";import"./SectionTitle.6e9e4bb1.js";import"./dom.esm.fa0fef86.js";import"./calculate-active-index.esm.611fafbc.js";import"./use-resolve-button-type.esm.4623ef0e.js";import"./description.esm.62a21e39.js";import"./label.esm.45c99648.js";const G={components:{Switch:N,SwitchDescription:T,SwitchGroup:L,SwitchLabel:D,JetActionMessage:x,JetButton:P,JetDialogModal:z,JetInput:I,JetInputError:k,JetLabel:q,JetSecondaryButton:C,TextAreaInput:j,SelectBox:J},props:{purchase:Object},data(){return{addAnother:!0,products:this.$page.props.products,sizes:this.$page.props.sizes,selectedProduct:null,selectedOriginalSize:null,selectedSize:null,creatingPurchaseItem:!1,form:this.$inertia.form({_method:"POST",product_id:null,original_size_id:null,size_id:null,quantity_ordered:null,quantity_confirmed:null,unit_price:null,ready_date:null,received:!0})}},watch:{selectedProduct(){this.selectedProduct?this.form.product_id=this.selectedProduct.id:this.form.product_id=null},selectedOriginalSize(n){n?(this.form.original_size_id=n.id,this.selectedSize||(this.selectedSize=n)):this.form.original_size_id=null},"form.quantity_ordered"(n){this.form.quantity_confirmed=n},selectedSize(n){n?this.form.size_id=n.id:this.form.size_id=null}},methods:{saveAndClose(){this.addAnother=!1,this.createPurchaseItem()},createPurchaseItem(){this.form.post(route("purchases.purchase-item.store",this.purchase),{preserveScroll:!0,preserveState:!0,onSuccess:()=>{this.form.reset(),this.selectedSize=null,this.selectedProduct=null,this.addAnother==!1&&(this.creatingPurchaseItem=!1)}})}}},M=a("New Purchase Item"),E=a("Add an purchase item."),K=a(" Add a new purchase item. Then, you can add this item to inventory and print tags. "),Q={class:"col-span-6 grid gap-4"},R={class:"grid gap-4 sm:grid-cols-2"},F={class:"sm:col-span-2 min-w-0"},H={class:"sm:col-span-1"},W={class:"sm:col-span-1"},X={class:"grid gap-4 grid-cols-1 sm:grid-cols-3"},Y={class:"sm:col-span-1"},Z={class:"sm:col-span-1"},$={class:"sm:col-span-1"},ee={class:"sm:col-span-1"},te=a("Received?"),se={class:"flex justify-between items-center w-full"},oe=a("Cancel"),re=a("Save and add another Item"),ie=a("Save and Close");function le(n,t,ne,me,e,p){const g=l("jet-button"),y=l("select-box"),d=l("jet-input-error"),f=l("jet-label"),_=l("jet-input"),b=l("SwitchLabel"),v=l("Switch"),S=l("SwitchGroup"),w=l("jet-secondary-button"),V=l("jet-dialog-modal");return m(),A("div",null,[o(g,{type:"button",onClick:t[0]||(t[0]=s=>e.creatingPurchaseItem=!0)},{default:i(()=>[M]),_:1}),o(V,{show:e.creatingPurchaseItem,onClose:t[12]||(t[12]=s=>e.creatingPurchaseItem=!1)},{title:i(()=>[E]),description:i(()=>[K]),content:i(()=>[r("form",{onSubmit:t[9]||(t[9]=U((...s)=>p.createPurchaseItem&&p.createPurchaseItem(...s),["prevent"])),onKeydown:t[10]||(t[10]=B((...s)=>p.createPurchaseItem&&p.createPurchaseItem(...s),["enter"]))},[r("div",Q,[r("div",R,[r("div",F,[o(y,{labelValue:"Product",items:e.products,selectedItem:e.selectedProduct,modelValue:e.selectedProduct,"onUpdate:modelValue":t[1]||(t[1]=s=>e.selectedProduct=s)},null,8,["items","selectedItem","modelValue"]),e.form.product_id?c("",!0):(m(),u(d,{key:0,message:e.form.errors.product_id,class:"mt-2"},null,8,["message"]))]),r("div",H,[o(y,{labelValue:"Purchase Size",items:e.sizes,selectedItem:e.selectedOriginalSize,modelValue:e.selectedOriginalSize,"onUpdate:modelValue":t[2]||(t[2]=s=>e.selectedOriginalSize=s)},null,8,["items","selectedItem","modelValue"]),e.form.size_id?c("",!0):(m(),u(d,{key:0,message:e.form.errors.size_id,class:"mt-2"},null,8,["message"]))]),r("div",W,[o(y,{labelValue:"Size",items:e.sizes,selectedItem:e.selectedSize,modelValue:e.selectedSize,"onUpdate:modelValue":t[3]||(t[3]=s=>e.selectedSize=s)},null,8,["items","selectedItem","modelValue"]),e.form.size_id?c("",!0):(m(),u(d,{key:0,message:e.form.errors.size_id,class:"mt-2"},null,8,["message"]))])]),r("div",X,[r("div",Y,[o(f,{for:"quantity_ordered",value:"Quantity Purchaseed"}),o(_,{id:"quantity_ordered",type:"number",step:"1",class:"mt-1 block w-full",modelValue:e.form.quantity_ordered,"onUpdate:modelValue":t[4]||(t[4]=s=>e.form.quantity_ordered=s),required:""},null,8,["modelValue"]),e.form.quantity_ordered?c("",!0):(m(),u(d,{key:0,message:e.form.errors.quantity_ordered,class:"mt-2"},null,8,["message"]))]),r("div",Z,[o(f,{for:"quantity_confirmed",value:"Quantity Confirmed"}),o(_,{id:"quantity_confirmed",type:"number",step:"1",class:"mt-1 block w-full",modelValue:e.form.quantity_confirmed,"onUpdate:modelValue":t[5]||(t[5]=s=>e.form.quantity_confirmed=s),required:""},null,8,["modelValue"]),e.form.quantity_confirmed?c("",!0):(m(),u(d,{key:0,message:e.form.errors.quantity_confirmed,class:"mt-2"},null,8,["message"]))]),r("div",$,[o(f,{for:"unit_price",value:"Unit Price"}),o(_,{id:"unit_price",type:"number",step:"0.01",class:"mt-1 block w-full",modelValue:e.form.unit_price,"onUpdate:modelValue":t[6]||(t[6]=s=>e.form.unit_price=s),required:""},null,8,["modelValue"]),e.form.unit_price?c("",!0):(m(),u(d,{key:0,message:e.form.errors.unit_price,class:"mt-2"},null,8,["message"]))]),r("div",ee,[o(f,{for:"ready_date",value:"Ready Date"}),o(_,{id:"ready_date",type:"date",class:"mt-1 block w-full",modelValue:e.form.ready_date,"onUpdate:modelValue":t[7]||(t[7]=s=>e.form.ready_date=s),required:""},null,8,["modelValue"]),e.form.ready_date?c("",!0):(m(),u(d,{key:0,message:e.form.errors.ready_date,class:"mt-2"},null,8,["message"]))]),o(S,{as:"div",class:"flex items-center justify-start sm:col-span-1"},{default:i(()=>[o(b,{as:"span",class:"text-sm font-medium text-gray-900 mr-4"},{default:i(()=>[te]),_:1}),o(v,{modelValue:e.form.received,"onUpdate:modelValue":t[8]||(t[8]=s=>e.form.received=s),class:h([e.form.received?"bg-green-600":"bg-gray-200","relative inline-flex flex-shrink-0 h-6 w-11 border-2 border-transparent rounded-full cursor-pointer transition-colors ease-in-out duration-200 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500"])},{default:i(()=>[r("span",{"aria-hidden":"true",class:h([e.form.received?"translate-x-5":"translate-x-0","pointer-events-none inline-block h-5 w-5 rounded-full bg-white shadow transform ring-0 transition ease-in-out duration-200"])},null,2)]),_:1},8,["modelValue","class"])]),_:1})])])],32)]),footer:i(()=>[r("div",se,[o(w,{type:"button",onClick:t[11]||(t[11]=s=>e.creatingPurchaseItem=!1)},{default:i(()=>[oe]),_:1}),r("div",null,[o(g,{type:"submit",onClick:p.createPurchaseItem,class:h([{"opacity-25":e.form.processing}," mb-2 sm:mb-0 sm:mr-2"]),disabled:e.form.processing},{default:i(()=>[re]),_:1},8,["onClick","class","disabled"]),o(g,{type:"submit",onClick:p.saveAndClose,class:h({"opacity-25":e.form.processing}),disabled:e.form.processing},{default:i(()=>[ie]),_:1},8,["onClick","class","disabled"])])])]),_:1},8,["show"])])}var qe=O(G,[["render",le]]);export{qe as default};
