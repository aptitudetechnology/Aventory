import{_ as y,Y as k,an as w,r as d,o as e,J as o,b as h,w as r,c as l,W as p,X as m,a as i,N as f,d as g}from"./app.123e766a.js";import{E as O}from"./EmptyState.fa0384fc.js";import{L as x}from"./LoadingState.db280596.js";import"./ButtonLink.76cb776b.js";const q={components:{DetailsSection:k,EmptyState:O,LoadingState:x},props:{customer:{type:Object,required:!1}},data(){return{loading:!1,orders:[],quotes:[]}},watch:{customer(){this.getOrders()}},mounted(){this.getOrders()},methods:{getOrders(){var s;this.loading=!0,w.get(route("api.sales.index",{customer:(s=this.customer)==null?void 0:s.id})).then(n=>{this.orders=n.data.orders,this.quotes=n.data.quotes}).catch(n=>{console.error(n.message)}).finally(()=>{this.loading=!1})},showOrder(s){this.showPopup(route(s.route,s.id))}}},v={class:"space-y-4"},b=g("Customer Orders"),N={key:2,class:"max-h-52 overflow-y-auto"},C=["href"],V=i("span",{class:"link"},"View",-1),B=g("Customer Quotes"),S={key:2,class:"max-h-52 overflow-y-auto"},j=["href"],E=i("span",{class:"link"},"View",-1);function L(s,n,D,I,t,Q){const c=d("loading-state"),u=d("empty-state"),_=d("details-section");return e(),o("div",v,[h(_,null,{title:r(()=>[b]),default:r(()=>[t.loading?(e(),l(c,{key:0,loading:t.loading},null,8,["loading"])):t.orders.length?(e(),o("div",N,[(e(!0),o(p,null,m(t.orders,a=>(e(),o("a",{key:"order.id",class:"flex items-center justify-between py-2",href:s.route("orders.show",a.id),target:"_blank"},[i("span",null,f(a.full_name),1),V],8,C))),128))])):(e(),l(u,{key:1,heading:"No Open Orders",showIcon:!1,align:"left",class:"p-0"}))]),_:1}),h(_,null,{title:r(()=>[B]),default:r(()=>[t.loading?(e(),l(c,{key:0,loading:t.loading},null,8,["loading"])):t.quotes.length?(e(),o("div",S,[(e(!0),o(p,null,m(t.quotes,a=>(e(),o("a",{key:"order.id",class:"flex items-center justify-between py-2",href:s.route("quotes.show",a.id),target:"_blank"},[i("span",null,f(a.full_name),1),E],8,j))),128))])):(e(),l(u,{key:1,heading:"No Open Quotes",showIcon:!1,align:"left",class:"p-0"}))]),_:1})])}var W=y(q,[["render",L]]);export{W as default};
