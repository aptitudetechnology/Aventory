import{M as v}from"./MoneyInput.097a70e6.js";import{_ as c}from"./debounce.99af33cc.js";import{_ as w}from"./plugin-vue_export-helper.21dcd24c.js";import{r as p,o as h,t as m,b as s,w as d,a as e,v as f,x as l,d as n}from"./app.c6d51eb6.js";const V={components:{MoneyInput:v},props:{order:{type:Object,required:!0}},data(){return{isFocused:!1,updatedOrder:this.$inertia.form({is_taxable:this.order.is_taxable,tax_percentage:this.order.tax_percentage,warranty_percentage:this.order.warranty_percentage,shipping_method_id:this.order.shipping_method_id,shipping_amount:this.order.shipping_amount}),shipping_method:null,shipping_methods:this.$page.props.shipping_methods}},mounted(){var r;this.shipping_method=(r=this.shipping_methods.find(o=>o.id===this.order.shipping_method_id))!=null?r:null},watch:{shipping_method(r){this.updatedOrder.shipping_method_id=r?r.id:null},"updatedOrder.shipping_method_id":c(function(r){this.updateOrder()},500),"updatedOrder.is_taxable":c(function(){this.updateOrder()},500),"updatedOrder.warranty_percentage":c(function(){this.updateOrder()},500),"updatedOrder.tax_percentage":c(function(){this.updateOrder()},500),"updatedOrder.shipping_amount":c(function(){this.updateOrder()},500),order:{handler(r){this.updatedOrder.isDirty||(this.updatedOrder=this.$inertia.form(r))},deep:!0}},methods:{sendQuoteChanges(){this.updatedOrder.patch(route("quotes.update",this.order.id),{errorBag:"updateOrder",preserveScroll:!0})},sendOrderChanges(){this.updatedOrder.patch(route("orders.update",this.order.id),{errorBag:"updateOrder",preserveScroll:!0})},updateOrder(){this.updatedOrder.isDirty&&!this.updatedOrder.processing&&(this.order.is_quote?this.sendQuoteChanges():this.sendOrderChanges())}}},j=n("Shipping / Tax / Totals"),k={class:"md:grid grid-cols-2 gap-8"},T={class:"grid gap-2 items-center"},M={key:0},S={class:"grid grid-cols-2 gap-4 items-center"},C=n("Shipping Amount"),B={class:"grid grid-cols-2 gap-4 items-center"},U=n("Warrany Percentage"),A={class:"grid grid-cols-2 gap-4 items-center border-t mt-2 pt-2"},D={class:"label justify-start"},N=e("span",{class:"label-text"},"Taxable",-1),q={key:1,class:"grid grid-cols-2 gap-4 items-center"},I=n("Tax Percentage"),P={class:"grid gap-2 mt-4 pt-4 border-t md:border-t-0 md:mt-0 md:py-2 items-center"},Q={class:"flex space-x-4 justify-between items-center auto-cols-min"},W=n("Product Total"),E={class:"text-black"},F={class:"flex space-x-4 justify-between items-center"},G=n("Discount Total"),z={class:"text-gray-600"},H={class:"flex space-x-4 justify-between items-center"},J=n("Warranty Amount"),K={class:"text-gray-600"},L={class:"flex space-x-4 justify-between items-center"},R=n("Sub Total"),X={class:"text-black"},Y={class:"flex space-x-4 justify-between items-center"},Z=n("Shipping Amount"),$={class:"text-gray-600"},ee={class:"flex space-x-4 justify-between items-center"},te=n("Tax Amount"),se={class:"text-gray-600"},re={class:"flex space-x-4 justify-between uppercase items-center border-t pt-2"},oe=n("Grand Total"),de={class:"text-black text-lg"};function ne(r,o,_,ae,t,ie){const x=p("jet-section-title"),y=p("select-box"),a=p("jet-label"),O=p("money-input"),u=p("jet-input-error"),g=p("percentage-input"),b=p("jet-checkbox");return h(),m("div",null,[s(x,null,{title:d(()=>[j]),_:1}),e("div",k,[e("div",T,[t.updatedOrder.processing?(h(),m("p",M,"Saving...")):f("",!0),s(y,{labelValue:"Shipping Method",modelValue:t.shipping_method,"onUpdate:modelValue":o[0]||(o[0]=i=>t.shipping_method=i),selectedItem:t.shipping_method,items:t.shipping_methods,id:"shipping_method"},null,8,["modelValue","selectedItem","items"]),e("div",S,[s(a,{for:"shipping_amount"},{default:d(()=>[C]),_:1}),s(O,{modelValue:t.updatedOrder.shipping_amount,"onUpdate:modelValue":o[1]||(o[1]=i=>t.updatedOrder.shipping_amount=i),id:"shipping_amount"},null,8,["modelValue"]),s(u,{class:"col-span-2",message:t.updatedOrder.errors.shipping_amount},null,8,["message"])]),e("div",B,[s(a,{for:"warranty_percentage"},{default:d(()=>[U]),_:1}),s(g,{id:"warranty_percentage",modelValue:t.updatedOrder.warranty_percentage,"onUpdate:modelValue":o[2]||(o[2]=i=>t.updatedOrder.warranty_percentage=i)},null,8,["modelValue"]),s(u,{class:"col-span-2",message:t.updatedOrder.errors.warranty_percentage},null,8,["message"])]),e("div",A,[e("label",D,[s(b,{class:"mr-2",checked:t.updatedOrder.is_taxable,modelValue:t.updatedOrder.is_taxable,"onUpdate:modelValue":o[3]||(o[3]=i=>t.updatedOrder.is_taxable=i)},null,8,["checked","modelValue"]),N])]),t.updatedOrder.is_taxable?(h(),m("div",q,[s(a,{for:"tax_percentage"},{default:d(()=>[I]),_:1}),s(g,{id:"tax_percentage",modelValue:t.updatedOrder.tax_percentage,"onUpdate:modelValue":o[4]||(o[4]=i=>t.updatedOrder.tax_percentage=i)},null,8,["modelValue"]),s(u,{class:"col-span-2",message:t.updatedOrder.errors.tax_percentage},null,8,["message"])])):f("",!0)]),e("div",P,[e("div",Q,[s(a,null,{default:d(()=>[W]),_:1}),e("p",E,l(r.formatMoney(_.order.total)),1)]),e("div",F,[s(a,null,{default:d(()=>[G]),_:1}),e("p",z,l(r.formatMoney(_.order.total_discounts)),1)]),e("div",H,[s(a,null,{default:d(()=>[J]),_:1}),e("p",K,l(r.formatMoney(_.order.warranty_amount)),1)]),e("div",L,[s(a,{class:"text-black"},{default:d(()=>[R]),_:1}),e("p",X,l(r.formatMoney(_.order.total_after_discount_and_warranty)),1)]),e("div",Y,[s(a,null,{default:d(()=>[Z]),_:1}),e("p",$,l(r.formatMoney(t.updatedOrder.shipping_amount)),1)]),e("div",ee,[s(a,null,{default:d(()=>[te]),_:1}),e("p",se,l(r.formatMoney(_.order.tax_amount)),1)]),e("div",re,[s(a,{class:"text-black text-lg"},{default:d(()=>[oe]),_:1}),e("p",de,l(r.formatMoney(_.order.grand_total)),1)])])])])}var ue=w(V,[["render",ne]]);export{ue as default};
