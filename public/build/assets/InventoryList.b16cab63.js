import{r as D,a as w,b as x,P as L}from"./Pagination.0188b1db.js";import{_ as T,Y as N,r as s,o as i,c as m,w as t,P,b as l,a as h,J as f,X as V,W as j,M as y,d as o}from"./app.fbac1591.js";import{T as A}from"./TableTable.fe11040b.js";import{T as C}from"./TableHead.904a962f.js";import{T as E}from"./TableH.0afd0d3c.js";import{S as H}from"./SearchInput.2b0acd82.js";import{_ as O}from"./debounce.210fe42d.js";import U from"./InventoryLineItem.816eb3fa.js";import{B as z}from"./ButtonLink.b5238133.js";import"./TableD.c0eff561.js";const F={components:{ExternalLinkIcon:D,ArrowDownIcon:w,ArrowUpIcon:x,DetailsSection:N,TableTable:A,TableHead:C,TableH:E,SearchInput:H,Pagination:L,InventoryLineItem:U,ButtonLink:z},props:{inventory:{type:Object},filters:{type:Object}},data(){var e;return{allSelected:!1,selected:[],search:this.filters.search||"",orderBy:this.filters.orderBy||"",orderByDirection:(e=this.filters.orderByDirection)!=null?e:"desc"}},computed:{selectedItems(){return this.inventory.data.filter(e=>this.selected.includes(e.id))}},watch:{selected:{handler(){this.allSelected=this.selected.length===this.inventory.data.length},deep:!0},search:O(function(e){this.updateSearch()},500)},methods:{toggleAllSelected(){this.allSelected=!this.allSelected,this.selected=this.allSelected?this.inventory.data.map(e=>e.id):[]},toggleSelected(e){this.selected.includes(e.id)?this.selected=this.selected.filter(r=>r!==e.id):this.selected.push(e.id)},isItemSelected(e){return this.selected.includes(e.id)},updateItemBy(e){this.orderBy===e?this.orderByDirection=this.orderByDirection==="desc"?"asc":"desc":(this.orderBy=e,this.orderByDirection="desc"),this.updateSearch()},updateSearch(){this.$inertia.get(this.route("inventory.index"),{search:this.search,orderBy:this.orderBy,orderByDirection:this.orderByDirection,includePrinted:this.filters.includePrinted},{preserveState:!0,replace:!0})},showItem(e){this.$inertia.get(route("inventory.show",e))}}},J=o("All Inventory"),M={class:"col-span-6 overflow-auto"},Q=o("Select all"),W=o("Inventory ID"),X=o("Quantity"),Y=o("Date Added"),q=o("Last Inventoried"),G=o("Product Name"),K=o("Size"),R=o("Nursery"),Z=o("Block"),$=o("Place"),ee={key:0,class:"p-4"},te=h("div",{class:"text-gray-500"},"No Inventory found.",-1),le=[te];function ne(e,r,a,oe,_,u){const p=s("search-input"),v=s("jet-label"),S=s("jet-checkbox"),n=s("table-h"),b=s("table-head"),g=s("InventoryLineItem"),B=s("table-table"),I=s("pagination"),k=s("details-section");return i(),m(k,null,{title:t(()=>[P(e.$slots,"title",{},()=>[J])]),aside:t(()=>[l(p,{modelValue:_.search,"onUpdate:modelValue":r[0]||(r[0]=d=>_.search=d)},null,8,["modelValue"])]),default:t(()=>{var d;return[h("div",M,[l(B,{class:"text-left"},{default:t(()=>[l(b,null,{default:t(()=>[l(n,{class:"sticky left-0 bg-white"},{default:t(()=>[h("div",null,[l(v,{class:"sr-only",for:"select-all"},{default:t(()=>[Q]),_:1}),l(S,{id:"select-all",checked:_.allSelected,onChange:u.toggleAllSelected},null,8,["checked","onChange"])])]),_:1}),l(n,null,{default:t(()=>[W]),_:1}),l(n,null,{default:t(()=>[X]),_:1}),l(n,null,{default:t(()=>[Y]),_:1}),l(n,null,{default:t(()=>[q]),_:1}),l(n,null,{default:t(()=>[G]),_:1}),l(n,null,{default:t(()=>[K]),_:1}),l(n,null,{default:t(()=>[R]),_:1}),l(n,null,{default:t(()=>[Z]),_:1}),l(n,null,{default:t(()=>[$]),_:1}),l(n)]),_:1}),h("tbody",null,[(i(!0),f(j,null,V(a.inventory.data,c=>(i(),m(g,{key:c.id,item:c,itemSelected:u.isItemSelected(c),onSelected:se=>u.toggleSelected(c)},null,8,["item","itemSelected","onSelected"]))),128))])]),_:1}),((d=a.inventory.data)==null?void 0:d.length)<1?(i(),f("div",ee,le)):y("",!0),a.inventory.data?(i(),m(I,{key:1,items:a.inventory},null,8,["items"])):y("",!0)])]}),_:3})}var ye=T(F,[["render",ne]]);export{ye as default};
