import{J as z}from"./Button.9edbaae6.js";import{J}from"./FormSection.532e715f.js";import{J as j}from"./Input.3e59ac9d.js";import{J as T}from"./InputError.871a3d35.js";import{J as B}from"./Label.98bc58ad.js";import{J as L}from"./ActionMessage.beea7ba5.js";import{J as R}from"./SecondaryButton.d03b45d1.js";import{T as N}from"./TextAreaInput.8e8fc994.js";import{S as A}from"./SelectBox.4394748c.js";import{r as i,o as h,c as b,w as r,a as o,b as s,u as c,A as f,B as x,v as I,d as u}from"./app.c6d51eb6.js";import{_ as M}from"./plugin-vue_export-helper.21dcd24c.js";import{S as D,a as P,b as G,c as q}from"./switch.esm.341fd662.js";import"./SectionTitle.6e9e4bb1.js";import"./dom.esm.fa0fef86.js";import"./calculate-active-index.esm.611fafbc.js";import"./use-resolve-button-type.esm.4623ef0e.js";import"./description.esm.62a21e39.js";import"./label.esm.45c99648.js";const E={components:{JetActionMessage:L,JetButton:z,JetFormSection:J,JetInput:j,JetInputError:T,JetLabel:B,JetSecondaryButton:R,Switch:D,SwitchDescription:P,SwitchGroup:G,SwitchLabel:q,TextAreaInput:N,SelectBox:A},props:{customerName:{type:String,default:""},redirect:{type:Boolean,default:!0}},data(){return{price_level:null,priceLevels:this.$page.props.priceLevels,newCustomer:this.$inertia.form({_method:"POST",redirect:this.redirect,name:this.customerName,address:"",city:"",state:"",zip:"",customer_price_level_id:null,mailing_same_as_primary:!0,mailing_address:"",mailing_city:"",mailing_state:"",mailing_zip:"",notes:"",is_taxable:!1,tax_percentage:null,discount_percentage:0,reseller_permit_expiration:null})}},computed:{hasCustomTaxRate:{get(){return this.newCustomer.tax_percentage!==null},set(p){this.newCustomer.tax_percentage=p==!0?8:null}}},watch:{price_level:function(){this.price_level?this.newCustomer.customer_price_level_id=this.price_level.id:this.newCustomer.customer_price_level_id=null}},methods:{createCustomer(){this.redirect?this.newCustomer.post(route("customers.store"),{errorBag:"createCustomer",preserveScroll:!0}):axios.post(route("customers.store"),this.newCustomer).then(p=>{this.$emit("created",p.data)})}}},F=u("Create a Customer"),Z=u(" Create a new customer to make orders and quotes to. "),O={class:"col-span-6"},H={class:"grid gap-4"},K={class:"col-span-3"},Q={class:"col-span-3"},W={class:"grid gap-4"},X=o("div",{class:"col-span-3 pt-6"},[o("h3",{class:"text-lg leading-6 text-gray-900"}," Primary Address ")],-1),Y={class:"col-span-3"},$={class:"col-span-3 md:col-span-1"},ee={class:"col-span-3 md:col-span-1"},se={class:"col-span-3 md:col-span-1"},te={class:"flex-grow flex flex-col mr-4"},oe=u("Mailing same as primary"),le=u("Indicate whether the mailing address of this customer is the same as the primary address."),re={class:"grid gap-4"},ne=o("div",{class:"col-span-3 pt-6"},[o("h3",{class:"text-lg leading-6 text-gray-900"}," Mailing Address ")],-1),ae={class:"col-span-3"},ie={class:"col-span-3 md:col-span-1"},me={class:"col-span-3 md:col-span-1"},ue={class:"col-span-3 md:col-span-1"},ce={class:"grid gap-4"},de=o("div",{class:"col-span-3 pt-6"},[o("h3",{class:"text-lg leading-6 text-gray-900"}," Customer Details ")],-1),pe={class:"grid gap-4 col-span-3"},_e={class:"grid gap-4 sm:grid-cols-2 col-span-3 items-center"},ge=u("Taxable?"),we={class:"grid gap-4 sm:gap-6 sm:grid-cols-3 col-span-3"},fe={class:"flex flex-col mr-4"},xe=u("Custom Tax Rate?"),Ce=u("Indicate whether this customer has a custom tax rate to be applied to taxable orders and products."),ve={class:"grid gap-4 sm:grid-cols-2 col-span-3"},he=u("Save Customer");function be(p,t,Ve,ye,e,d){const a=i("jet-label"),m=i("jet-input"),n=i("jet-input-error"),V=i("text-area-input"),_=i("SwitchLabel"),y=i("SwitchDescription"),g=i("Switch"),w=i("SwitchGroup"),S=i("select-box"),C=i("percentage-input"),k=i("jet-button"),U=i("jet-form-section");return h(),b(U,{onSubmitted:d.createCustomer},{title:r(()=>[F]),description:r(()=>[Z]),form:r(()=>{var v;return[o("div",O,[o("div",H,[o("div",K,[s(a,{for:"name",value:"Customer Name"}),s(m,{id:"name",type:"text",class:"mt-1 block w-full",modelValue:e.newCustomer.name,"onUpdate:modelValue":t[0]||(t[0]=l=>e.newCustomer.name=l),required:"",autocomplete:"organization"},null,8,["modelValue"]),s(n,{message:e.newCustomer.errors.name,class:"mt-2"},null,8,["message"])]),o("div",Q,[s(a,{for:"notes",value:"Customer Notes"}),s(V,{id:"notes",class:"mt-1 block w-full",modelValue:e.newCustomer.notes,"onUpdate:modelValue":t[1]||(t[1]=l=>e.newCustomer.notes=l)},null,8,["modelValue"]),s(n,{message:e.newCustomer.errors.notes,class:"mt-2"},null,8,["message"])])]),o("div",W,[X,o("div",Y,[s(a,{for:"address",value:"Street Address"}),s(m,{id:"address",type:"text",class:"mt-1 block w-full",modelValue:e.newCustomer.address,"onUpdate:modelValue":t[2]||(t[2]=l=>e.newCustomer.address=l),autocomplete:"address"},null,8,["modelValue"]),s(n,{message:e.newCustomer.errors.address,class:"mt-2"},null,8,["message"])]),o("div",$,[s(a,{for:"city",value:"City"}),s(m,{id:"city",type:"text",class:"mt-1 block w-full",modelValue:e.newCustomer.city,"onUpdate:modelValue":t[3]||(t[3]=l=>e.newCustomer.city=l),autocomplete:"address-level2"},null,8,["modelValue"]),s(n,{message:e.newCustomer.errors.city,class:"mt-2"},null,8,["message"])]),o("div",ee,[s(a,{for:"state",value:"State"}),s(m,{id:"state",type:"text",class:"mt-1 block w-full",modelValue:e.newCustomer.state,"onUpdate:modelValue":t[4]||(t[4]=l=>e.newCustomer.state=l),autocomplete:"address-level1"},null,8,["modelValue"]),s(n,{message:e.newCustomer.errors.state,class:"mt-2"},null,8,["message"])]),o("div",se,[s(a,{for:"zip",value:"Zip"}),s(m,{id:"zip",type:"text",class:"mt-1 block w-full",modelValue:e.newCustomer.zip,"onUpdate:modelValue":t[5]||(t[5]=l=>e.newCustomer.zip=l),autocomplete:"postal-code"},null,8,["modelValue"]),s(n,{message:e.newCustomer.errors.zip,class:"mt-2"},null,8,["message"])]),s(w,{as:"div",class:"flex items-center justify-between col-span-3"},{default:r(()=>[o("span",te,[s(_,{as:"span",class:"text-sm text-gray-900"},{default:r(()=>[oe]),_:1}),s(y,{as:"span",class:"text-sm text-gray-500"},{default:r(()=>[le]),_:1})]),s(g,{modelValue:e.newCustomer.mailing_same_as_primary,"onUpdate:modelValue":t[6]||(t[6]=l=>e.newCustomer.mailing_same_as_primary=l),class:c([e.newCustomer.mailing_same_as_primary?"bg-green-600":"bg-gray-200","relative inline-flex flex-shrink-0 h-6 w-11 border-2 border-transparent rounded-full cursor-pointer transition-colors ease-in-out duration-200 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500"])},{default:r(()=>[o("span",{"aria-hidden":"true",class:c([e.newCustomer.mailing_same_as_primary?"translate-x-5":"translate-x-0","pointer-events-none inline-block h-5 w-5 rounded-full bg-white shadow transnewCustomer ring-0 transition ease-in-out duration-200"])},null,2)]),_:1},8,["modelValue","class"])]),_:1})]),f(o("div",re,[ne,o("div",ae,[s(a,{for:"mailing_address",value:"Mailing Street Address"}),s(m,{id:"mailing_address",type:"text",class:"mt-1 block w-full",modelValue:e.newCustomer.mailing_address,"onUpdate:modelValue":t[7]||(t[7]=l=>e.newCustomer.mailing_address=l),autocomplete:"address"},null,8,["modelValue"]),s(n,{message:e.newCustomer.errors.mailing_address,class:"mt-2"},null,8,["message"])]),o("div",ie,[s(a,{for:"mailing_city",value:"Mailing City"}),s(m,{id:"mailing_city",type:"text",class:"mt-1 block w-full",modelValue:e.newCustomer.mailing_city,"onUpdate:modelValue":t[8]||(t[8]=l=>e.newCustomer.mailing_city=l),autocomplete:"address-level2"},null,8,["modelValue"]),s(n,{message:e.newCustomer.errors.mailing_city,class:"mt-2"},null,8,["message"])]),o("div",me,[s(a,{for:"mailing_state",value:"Mailing State"}),s(m,{id:"mailing_state",type:"text",class:"mt-1 block w-full",modelValue:e.newCustomer.mailing_state,"onUpdate:modelValue":t[9]||(t[9]=l=>e.newCustomer.mailing_state=l),autocomplete:"address-level1"},null,8,["modelValue"]),s(n,{message:e.newCustomer.errors.mailing_state,class:"mt-2"},null,8,["message"])]),o("div",ue,[s(a,{for:"mailing_zip",value:"Mailing Zip"}),s(m,{id:"mailing_zip",type:"text",class:"mt-1 block w-full",modelValue:e.newCustomer.mailing_zip,"onUpdate:modelValue":t[10]||(t[10]=l=>e.newCustomer.mailing_zip=l),autocomplete:"postal-code"},null,8,["modelValue"]),s(n,{message:e.newCustomer.errors.mailing_zip,class:"mt-2"},null,8,["message"])])],512),[[x,!e.newCustomer.mailing_same_as_primary]]),o("div",ce,[de,o("div",pe,[o("div",_e,[o("div",null,[((v=e.priceLevels)==null?void 0:v.length)>0?(h(),b(S,{key:0,items:e.priceLevels,selectedItem:e.price_level,modelValue:e.price_level,"onUpdate:modelValue":t[11]||(t[11]=l=>e.price_level=l),labelValue:"Customer Price Level"},null,8,["items","selectedItem","modelValue"])):I("",!0),s(n,{message:e.newCustomer.errors.customer_price_level_id,class:"mt-2"},null,8,["message"])]),s(w,{as:"div",class:"flex items-center justify-start col-span-3 sm:col-span-1"},{default:r(()=>[s(_,{as:"span",class:"text-sm text-gray-900 mr-4"},{default:r(()=>[ge]),_:1}),s(g,{modelValue:e.newCustomer.is_taxable,"onUpdate:modelValue":t[12]||(t[12]=l=>e.newCustomer.is_taxable=l),class:c([e.newCustomer.is_taxable?"bg-green-600":"bg-gray-200","relative inline-flex flex-shrink-0 h-6 w-11 border-2 border-transparent rounded-full cursor-pointer transition-colors ease-in-out duration-200 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500"])},{default:r(()=>[o("span",{"aria-hidden":"true",class:c([e.newCustomer.is_taxable?"translate-x-5":"translate-x-0","pointer-events-none inline-block h-5 w-5 rounded-full bg-white shadow transnewCustomer ring-0 transition ease-in-out duration-200"])},null,2)]),_:1},8,["modelValue","class"])]),_:1})]),o("div",we,[f(s(w,{as:"div",class:"flex items-center justify-start sm:col-span-2"},{default:r(()=>[o("div",fe,[s(_,{as:"span",class:"text-sm font-medium text-gray-900"},{default:r(()=>[xe]),_:1}),s(_,{as:"span",class:"text-sm text-gray-500"},{default:r(()=>[Ce]),_:1})]),s(g,{modelValue:d.hasCustomTaxRate,"onUpdate:modelValue":t[13]||(t[13]=l=>d.hasCustomTaxRate=l),class:c([d.hasCustomTaxRate?"bg-green-600":"bg-gray-200","relative inline-flex flex-shrink-0 h-6 w-11 border-2 border-transparent rounded-full cursor-pointer transition-colors ease-in-out duration-200 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500"])},{default:r(()=>[o("span",{"aria-hidden":"true",class:c([d.hasCustomTaxRate?"translate-x-5":"translate-x-0","pointer-events-none inline-block h-5 w-5 rounded-full bg-white shadow transnewCustomer ring-0 transition ease-in-out duration-200"])},null,2)]),_:1},8,["modelValue","class"])]),_:1},512),[[x,e.newCustomer.is_taxable]]),f(o("div",null,[s(a,{for:"tax_percentage",value:"Customer Tax Rate"}),s(C,{id:"tax_percentage",max:"100.00",min:"0.00",step:".01",placeholder:"0.00",modelValue:e.newCustomer.tax_percentage,"onUpdate:modelValue":t[14]||(t[14]=l=>e.newCustomer.tax_percentage=l)},null,8,["modelValue"]),s(n,{message:e.newCustomer.errors.tax_percentage,class:"mt-2"},null,8,["message"])],512),[[x,d.hasCustomTaxRate]])])]),o("div",ve,[o("div",null,[s(a,{for:"discount_percentage",value:"Percentage Discount"}),s(C,{id:"discount_percentage",max:"100",min:"0",placeholder:"0",modelValue:e.newCustomer.discount_percentage,"onUpdate:modelValue":t[15]||(t[15]=l=>e.newCustomer.discount_percentage=l)},null,8,["modelValue"]),s(n,{message:e.newCustomer.errors.discount_percentage,class:"mt-2"},null,8,["message"])]),o("div",null,[s(a,{for:"reseller_permit_expiration",value:"Reseller Permit Expiration"}),s(m,{id:"reseller_permit_expiration",type:"date",class:"mt-1 block w-full",modelValue:e.newCustomer.reseller_permit_expiration,"onUpdate:modelValue":t[16]||(t[16]=l=>e.newCustomer.reseller_permit_expiration=l)},null,8,["modelValue"]),s(n,{message:e.newCustomer.errors.reseller_permit_expiration,class:"mt-2"},null,8,["message"])])])])])]}),actions:r(()=>[s(k,{type:"submit",class:c({"opacity-25":e.newCustomer.processing}),disabled:e.newCustomer.processing},{default:r(()=>[he]),_:1},8,["class","disabled"])]),_:1},8,["onSubmitted"])}var Ee=M(E,[["render",be]]);export{Ee as default};
